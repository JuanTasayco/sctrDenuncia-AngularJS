<div
  class="col-xs-12 g-box fz14 pt-xs-2 pb-xs-2 content-procedimiento"
  ng-style="$ctrl.hasProcedureError && !$ctrl.proceduresResumenList.length && {'border-color': 'red'}"
>
  <div class="row">
    <div class="col-xs-12">
      <h4 class="text-center g-text-uppercase"><b>Procedimiento</b></h4>
    </div>
  </div>
  <div class="row mt-xs-4 mb-xs-4" ng-if="!($ctrl.proceduresResumenList.length > 0)">
    <div class="col-xs-10 col-sm-8 col-xs-offset-1 col-sm-offset-2">
      <p class="text-center">
        Agrega los {{$ctrl.isCoverageCodeHealing ? '' : 'importes de'}} procedimientos correspondientes al comprobante que vas a adjuntar
      </p>
    </div>
  </div>
  <div class="row mt-xs-1 mb-xs-4" ng-if="$ctrl.proceduresResumenList.length > 0">
    <div class="col-xs-12">
      <div class="clearfix g-box fz14 pt-xs-2 pb-xs-2 mb-xs-1">
        <div class="col-xs-12 no-padding-xs mb-xs-1" ng-repeat="procedure in $ctrl.proceduresResumenList">
          <div class="col-xs-7 col-sm-3 g-cut-text">{{procedure.code + ' ' + procedure.description}}</div>
          <div class="col-xs-7 col-sm-4 g-cut-text">{{procedure.diagnostic.codeName}}</div>
          <div class="col-xs-7 col-sm-3 g-cut-text">
            {{$ctrl.formatDateToSlash(procedure.treatmentDate.model)}}
          </div>
          <div class="col-xs-5 col-sm-2 text-right">{{procedure.importe | currency: 'S/ '}}</div>
        </div>
      </div>
      <div class="col-xs-10 col-md-8 col-xs-offset-2 col-md-offset-4 gBgcGray5 pt-xs-1 pb-xs-1 box-total">
        <div class="col-xs-7 no-padding-xs g-text-uppercase"><b>Importe Total</b></div>
        <div class="col-xs-5 no-padding-xs text-right g-text-uppercase">
          <b>{{$ctrl.sumImport | currency: 'S/ '}}</b>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 mb-xs-1">
      <div
        class="col-xs-10 col-md-8 col-xs-offset-1 col-md-offset-2"
        ng-click="$ctrl.showModalResumen()"
      >
        <a class="g-btn g-btn-white second-design block" ng-class="{'disabled': $ctrl.readOnly}">
          <span class="g-icon">
            <span class="icon icon-plus ico-mapfre_56_visitasalmedico"></span>
            <span>
              Agregar/Modificar {{$ctrl.isCoverageCodeHealing ? '' : 'importe de'}} procedimiento
            </span>
          </span>
        </a>
      </div>
    </div>
  </div>
  <div class="row" ng-if="$ctrl.hasProcedureError && !$ctrl.proceduresResumenList.length">
    <div class="col-xs-12 mt-xs-2" style="color: #d0021b">
      * Debe elegir por lo menos un procedimiento
    </div>
  </div>
</div>
