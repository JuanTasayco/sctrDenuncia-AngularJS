<title-section title="Renovación"></title-section>
<div class="g-section-inner" ng-class="{'fixed-margin': boolChangeClass}">
    <div class="container">
        <div class="row">
            <!-- Resultados -->
            <div class="col-md-12 mb-xs-2">
                <!-- Si hay data vacía en el request -->
                <div class="g-title g-border-bottom">
                    <div class="row h-myd--flex h-myd--flex-alg-center h-myd--flex-wrap">
                        <div class="col-xs-12 col-sm-8">
                            <h1 class="ng-binding">Gestión proceso Renovación</h1>
                        </div>
                        <div class="col-xs-12 col-sm-4 g-text-right-sm hidden-sm hidden-xs">
                            <a href="/renovacion/#/">
                                <span class="g-link gCGray3">
                                    <i class="icon ico-mapfre_310_arrowLeft"></i>
                                    <b>Volver a Renovación</b>
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Inicio: Resultados -->

                <div class="clearfix g-box g-overflow-hidden-xs mb-xs-2 tag-solicitudes gBgcGray5">
                    <!-- header -->
                    <div class="pt-xs-1">
                        <ul class="clearfix g-list-sm">
                            <li class="col-xs-12 col-sm-3 clearfix cnt-item h-myd-mt--10">
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Póliza:</div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.numPoliza}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Documento:
                                        </div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.tipoDocCliente}} -
                                                {{vm.poliza.numDocCliente}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Sgm. Cliente:
                                        </div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.segmentoCliente}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Forma de pago:
                                        </div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.fraccionamiento.codFraccPago}}</span>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="col-xs-12 col-sm-3 clearfix cnt-item h-myd-mt--10">
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Fec efecto:
                                        </div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.fecEfecPoliza}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Razon Social:
                                        </div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.cliente}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Agente:</div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.codAgente}} -
                                                {{vm.poliza.nombreCompletoAgente}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Moneda:</div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class=""> {{vm.poliza.moneda.nomMon}}</span>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="col-xs-12 col-sm-3 clearfix cnt-item h-myd-mt--10">
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Fec
                                            Vencimiento:</div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.fecVctoPoliza}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Correo:</div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.emailCliente}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Oficina:
                                        </div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.nombreOficina}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Estado:
                                        </div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <!-- <span ng-if="vm.poliza.codEstadoRenovacion != 'RENOVADA'"
                                                ng-class="{'renovacion__vigente': vm.poliza.codEstadoPoliza == 'VIGENTE',
                                                'renovacion__pendienteRenovar':  vm.poliza.codEstadoPoliza == 'PDE_RNV',
                                                'renovacion__preRenovar': vm.poliza.codEstadoPoliza == 'PRE_RNVD',
                                                'renovacion__renovar': vm.poliza.codEstadoPoliza == 'RENOVADA',
                                                'renovacion__ninguno': (vm.poliza.codEstadoPoliza != 'PDE_RNV' && vm.poliza.codEstadoPoliza != 'PRE_RNVD' && vm.poliza.codEstadoPoliza != 'RENOVADA' && vm.poliza.codEstadoPoliza != 'VIGENTE')}">{{vm.poliza.codEstadoRenovacion}}</span> -->
                                            <span
                                                ng-class="{'renovacion__vigente': vm.poliza.codEstadoPoliza == 'VIGENTE',
                                                'renovacion__pendienteRenovar':  vm.poliza.codEstadoPoliza == 'PDE_RNV',
                                                'renovacion__preRenovar': vm.poliza.codEstadoPoliza == 'PRE_RNVD',
                                                'renovacion__renovar': vm.poliza.codEstadoPoliza == 'RENOVADA',
                                                'renovacion__ninguno': (vm.poliza.codEstadoPoliza != 'PDE_RNV' && vm.poliza.codEstadoPoliza != 'PRE_RNVD' && vm.poliza.codEstadoPoliza != 'RENOVADA' && vm.poliza.codEstadoPoliza != 'VIGENTE')}">{{vm.poliza.estadoPoliza}}</span>    
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="col-xs-12 col-sm-3 clearfix cnt-item h-myd-mt--10">
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Póliza grupo
                                        </div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.grupoPoliza}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Celular:</div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.celularCliente}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 item-label gH6 h-myd--fz13">Sectorista:
                                        </div>
                                        <div class="col-sm-6 pt-xs-1 pb-xs-1 h-myd-mb--5">
                                            <span class="">{{vm.poliza.sectorista}}</span>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <!--
                    Inicio visual de wizard
                -->

                <div id="g-steps" class="g-steps mb-md-3" scroll-position ng-class="{'active-fixed': scroll}">
                    <div class="container g-steps-container hidden-xs hidden-sm">
                        <div class="row g-steps-circles">
                            <div class="col-md-3 text-center">
                                <div ng-class="{active : vm.poliza.codEstadoRenovacion == 'VIGENTE' && ( vm.poliza.numDiasVencimiento >=vm.diasVencimiento || !vm.clienteValido)}"
                                    class="g-circle">
                                    <span>1</span>
                                </div>
                            </div>
                            <div class="col-md-3 text-center">
                                <div ng-class="{active : (vm.poliza.codEstadoRenovacion == 'VIGENTE' || vm.poliza.codEstadoRenovacion == 'PDE_RNV') && vm.poliza.numDiasVencimiento <=vm.diasVencimiento && vm.clienteValido}"
                                    class="g-circle ">
                                    <span>2</span>
                                </div>
                            </div>
                            <div class="col-md-3 text-center">
                                <div ng-class="{active : vm.poliza.codEstadoRenovacion == 'PRE_RNVD'}"
                                    class="g-circle ">
                                    <span>3</span>
                                </div>
                            </div>
                            <div class="col-md-3 text-center">
                                <div ng-class="{active : vm.poliza.codEstadoRenovacion == 'RENOVADA'}"
                                    class="g-circle ">
                                    <span>4</span>
                                </div>
                            </div>
                        </div>

                        <div class="row g-steps-line ">
                            <div style="padding:0; margin-left: 12%" class="col-md-2 col-md-offset-1">
                                <div class="g-step-line">
                                </div>
                            </div>
                            <div style="padding:0" class="col-md-2">
                                <div class="g-step-line">
                                </div>
                            </div>
                            <div style="padding:0" class="col-md-2">
                                <div class="g-step-line">
                                </div>
                            </div>
                            <div style="padding:0" class="col-md-3">
                                <div class="g-step-line">
                                </div>
                            </div>

                        </div>

                        <div class="row g-steps-titles">
                            <a>
                                <div class="col-md-3 text-center">
                                    <span>Póliza Vigente</span>
                                </div>
                            </a>
                            <a>
                                <div class="col-md-3 text-center">
                                    <span>Póliza Pend-Renovar</span>
                                </div>
                            </a>
                            <a>
                                <div class="col-md-3 text-center">
                                    <span>Póliza Pre-Renovada</span>
                                </div>
                            </a>
                            <a>
                                <div class="col-md-3 text-center">
                                    <span>Póliza Renovada</span>
                                </div>
                            </a>
                        </div>
                    </div>

                    <div class="container  hidden-md hidden-lg">
                        <div class="g-steps-container-responsive">
                            <div class="g-step-box mt-xs-1">
                                <div class="g-circle">
                                    <span>1</span>
                                </div>
                                <a class="g-title"><span>Poliza
                                        Vigente</span></a>
                            </div>
                        </div>
                        <div class="g-steps-container-responsive">
                            <div class="g-step-box mt-xs-1">
                                <div class="g-circle">
                                    <span>2</span>
                                </div>
                                <a class="g-title"><span>Poliza
                                        Vigente</span></a>
                            </div>
                        </div>
                        <div class="g-steps-container-responsive">
                            <div class="g-step-box mt-xs-1">
                                <div class="g-circle">
                                    <span>3</span>
                                </div>
                                <a class="g-title"><span>Poliza
                                        Vigente</span></a>
                            </div>
                        </div>
                        <div class="g-steps-container-responsive">
                            <div class="g-step-box mt-xs-1">
                                <div class="g-circle">
                                    <span>4</span>
                                </div>
                                <a class="g-title"><span>Poliza
                                        Vigente</span></a>
                            </div>
                        </div>
                    </div>
                </div>

                <!--
                End de wizard
            -->

                <div class="clearfix g-overflow-hidden-xs mb-xs-2 ng-scope">
                    <div class="row h-myd-ml--0 h-myd-mr--0 g-list-md mb-xs-1">
                        <div class="col-md-12">
                            <div class="clearfix g-tbl-wrapper align-vertical">
                                <div class="clearfix table__1024 g-tbl-habilitarPlanes">
                                    <ul height-row class="g-row-fz12 g-tbl-row gBgcGray5 pt-xs-1">
                                        <li class="text-center g-col g-col-xs tbl-item item-title col-11-dktp">
                                            Suplemento
                                        </li>
                                        <li class="text-center g-col g-col-xs tbl-item item-title col-11-dktp">
                                            Fec. Inicio
                                        </li>
                                        <li class="text-center g-col g-col-xs tbl-item item-title col-11-dktp">
                                            Fec. Fin
                                        </li>
                                        <li class="text-center g-col g-col-xs tbl-item item-title col-11-dktp">
                                            Prima Neta
                                        </li>
                                        <li class="text-center g-col g-col-xs tbl-item item-title col-11-dktp">
                                            Prima Total
                                        </li>
                                        <li class="text-center g-col g-col-xs tbl-item item-title col-11-dktp">
                                            Cuota Inic.
                                        </li>
                                        <li class="text-center g-col g-col-xs tbl-item item-title col-11-dktp">
                                            Imp. Cuota
                                        </li>
                                        <li class="text-center g-col g-col-xs tbl-item item-title col-11-dktp">
                                            Documento
                                        </li>
                                        <li class="text-center g-col g-col-xs tbl-item item-title col-11-dktp">
                                            Correo
                                        </li>
                                    </ul>
                                    <div ng-repeat="poliza in vm.suplementos track by $index" ng-init="indice = $index"
                                        class="mb-xs-1 gnContentAuto-bg">
                                        <ul height-row class="g-row-fz12 g-tbl-row pt-xs-1">
                                            <li ng-if="poliza.poliza.estadoPoliza && poliza.poliza.estadoRenovacion == 'RENOVADA'"
                                                class="text-center g-col g-col-xs col-11-dktp tbl-item">
                                                {{poliza.poliza.estadoRenovacion}}</li>
                                            <li ng-if="poliza.poliza.estadoPoliza && poliza.poliza.estadoRenovacion != 'RENOVADA'"
                                                class="text-center g-col g-col-xs col-11-dktp tbl-item">
                                                {{poliza.poliza.estadoPoliza}}</li>
                                            <li ng-if="!poliza.poliza.estadoPoliza"
                                                class="text-center g-col g-col-xs col-11-dktp tbl-item g-text-uppercase">
                                                {{poliza.poliza.tipoSuplemento}}</li>
                                            <li class="text-center g-col g-col-xs col-11-dktp tbl-item">
                                                {{poliza.poliza.fecEfecPoliza}}</li>
                                            <li class="text-center g-col g-col-xs col-11-dktp tbl-item">
                                                {{poliza.poliza.fecVctoPoliza}}</li>
                                            <li class="text-center g-col g-col-xs col-11-dktp tbl-item">
                                                {{poliza.poliza.conceptosDesglose.impPneta}}</li>
                                            <li class="text-center g-col g-col-xs col-11-dktp tbl-item">
                                                {{poliza.poliza.impRecibos}}</li>
                                            <li class="text-center g-col g-col-xs col-11-dktp tbl-item">
                                                {{poliza.poliza.impCuotaInicial}}</li>
                                            <li class="text-center g-col g-col-xs col-11-dktp tbl-item">
                                                {{poliza.poliza.impCuota}}</li>
                                            <li style="text-transform: uppercase;"
                                                class="text-center g-col g-col-xs col-11-dktp tbl-item">
                                                <span style="text-transform: uppercase;" ng-if="poliza.poliza.tipoSuplemento !=
                                                'prerenovacion'" ng-click="vm.generarPdf(indice)"
                                                    class="ico-click ico-verde font-icon-size ico-mapfre-349-myd-pdf"></span>
                                                <span style="text-transform: uppercase;" ng-if="poliza.poliza.tipoSuplemento ==
                                                'prerenovacion'" ng-click="vm.generarPdfPreRenovacion(poliza.poliza)"
                                                    class="ico-click ico-verde font-icon-size ico-mapfre-349-myd-pdf">

                                                </span>
                                            </li>
                                            <li class="g-col g-col-xs col-11-dktp tbl-item text-center ico-verde">
                                                <span ng-if="poliza.poliza.estadoEnvioNotificacion">Enviado  </span>
                                                <span ng-if="!poliza.poliza.estadoEnvioNotificacion">No Enviado  </span>
                                                <span ng-click="showModalEnvioCorreo(indice)"
                                                    class="mr-xs-1  ico-verde ico-click gnIcon-xsm font-icon-size ico-mapfre_98_email"></span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="g-section-inner g-section-tabs g-overflow-hidden-xs"
                    ng-class="{'mpf-tabs-fixed': true, 'wt1200': true}">
                    <div class="container">
                        <uib-tabset justified="true">
                            <uib-tab index="0">
                                <uib-tab-heading>Datos Variables Pólizas</uib-tab-heading>
                                <div class="content-tab">
                                    <div class="clearfix g-overflow-hidden-xs mt-xs-2 mb-xs-2 ng-scope">
                                        <div class="row h-myd-ml--0 h-myd-mr--0 g-list-md mb-xs-1">
                                            <div class="col-md-12">
                                                <div class="clearfix g-tbl-wrapper align-vertical">
                                                    <div class="clearfix table__1024 g-tbl-habilitarPlanes">
                                                        <ul height-row class="g-row-fz12 g-tbl-row gBgcGray5 pt-xs-1">
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Dato Variable
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Valor Vigente
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp" ng-if="vm.poliza.codEstadoRenovacion !== 'RENOVADA'">
                                                                PRE - Renovado
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp" ng-if="vm.poliza.codEstadoRenovacion == 'RENOVADA'">
                                                                Renovado
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Nuevo Valor
                                                            </li>
                                                        </ul>
                                                        <div class="mb-xs-1 gnContentAuto-bg">
                                                            <div
                                                                ng-repeat="campo in vm.camposDinamicosPoliza track by $index">
                                                                <ul ng-if="campo.mcaVisible === 'S'" height-row
                                                                    class="g-row-fz12 g-tbl-row pt-xs-1 g-border-bottom-xs">
                                                                    <li style="min-height: 17px;"
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        {{campo.nomCampo}}</li>
                                                                    <li ng-if="vm.formatValues(campo.codCampo) === 'codFraccPago'"
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        <div ng-if="campo.txtCampo">
                                                                            {{campo.txtCampo}}
                                                                        </div>
                                                                        <div ng-if="!campo.txtCampo">
                                                                            {{campo.valCampo}}
                                                                        </div>
                                                                    </li>
                                                                    <li ng-if="vm.formatValues(campo.codCampo) === 'codFraccPago'"
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        <div ng-if="vm.suplementos.length > 1">
                                                                            <span ng-if="vm.camposDinamicosPolizaRenovaciones[$index].txtCampo">
                                                                                {{vm.camposDinamicosPolizaRenovaciones[$index].txtCampo}}
                                                                            </span>
                                                                            <span ng-if="!vm.camposDinamicosPolizaRenovaciones[$index].txtCampo">
                                                                                {{vm.camposDinamicosPolizaRenovaciones[$index].valCampo}}
                                                                            </span>
                                                                        </div>
                                                                    </li>
                                                                    <li ng-if="vm.formatValues(campo.codCampo) !== 'codFraccPago'"
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        <div ng-if="campo.txtCampo">
                                                                            {{campo.txtCampo}}
                                                                        </div>
                                                                        <div ng-if="!campo.txtCampo">
                                                                            {{campo.valCampo}}
                                                                        </div>
                                                                    </li>
                                                                    <li ng-if="vm.formatValues(campo.codCampo) !== 'codFraccPago'"
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        <div ng-if="vm.suplementos.length > 1">
                                                                            <span ng-if="vm.camposDinamicosPolizaRenovaciones[$index].txtCampo">
                                                                                {{vm.camposDinamicosPolizaRenovaciones[$index].txtCampo}}
                                                                            </span>
                                                                            <span ng-if="!vm.camposDinamicosPolizaRenovaciones[$index].txtCampo">
                                                                                {{vm.camposDinamicosPolizaRenovaciones[$index].valCampo}}
                                                                            </span>
                                                                        </div>
                                                                    </li>

                                                                    <li
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        <div
                                                                            ng-if="vm.formatValues(campo.codCampo) === 'codFraccPago' && vm.suplementos.length > 1">
                                                                            <select ng-disabled="!vm.editableValue()"
                                                                                style="border:transparent"
                                                                                ng-model="vm.nuevoValoresPoliza.poliza.fraccionamiento[vm.formatValues(campo.codCampo)]">
                                                                                <option ng-value=" "> </option>
                                                                                <option ng-repeat="item in vm.fracPago"
                                                                                    ng-value="item.codigo">
                                                                                    {{item.descripcion}}
                                                                                </option>
                                                                            </select>
                                                                            <i ng-if="campo.mcaProtegido === 'N' && vm.editableValue()"
                                                                                class="glyphicon glyphicon-pencil"></i>
                                                                        </div>
                                                                        <div
                                                                            ng-if="vm.formatValues(campo.codCampo) === 'codFraccPago' && vm.suplementos.length == 1">
                                                                            <select ng-disabled="!vm.editableValue()"
                                                                                style="border:transparent"
                                                                                ng-model="vm.nuevoValoresPoliza.poliza.fraccionamiento[vm.formatValues(campo.codCampo)]">
                                                                                <option ng-value=" "> </option>

                                                                                <option ng-repeat="item in vm.fracPago"
                                                                                    ng-value="item.codigo">
                                                                                    {{item.descripcion}}
                                                                                </option>
                                                                            </select>
                                                                            <i ng-if="campo.mcaProtegido === 'N' && vm.editableValue()"
                                                                                class="glyphicon glyphicon-pencil"></i>
                                                                        </div>
                                                                        <div
                                                                            ng-if="vm.formatValues(campo.codCampo) !== 'codFraccPago' && vm.suplementos.length > 1">
                                                                            <input
                                                                                ng-if="campo.mcaProtegido === 'N' && vm.editableValue()"
                                                                                class="no-border g-text-uppercase"
                                                                                id="{{campo.codCampo}}"
                                                                                ng-model="vm.nuevoValoresPoliza.poliza[vm.formatValues(campo.codCampo)]" />
                                                                            <i ng-if="campo.mcaProtegido === 'N' && vm.editableValue()"
                                                                                class="glyphicon glyphicon-pencil"></i>
                                                                        </div>
                                                                        <div
                                                                            ng-if="vm.formatValues(campo.codCampo) !== 'codFraccPago' && vm.suplementos.length === 1">
                                                                            <input
                                                                                ng-if="campo.mcaProtegido === 'N' && vm.editableValue()"
                                                                                class="no-border g-text-uppercase"
                                                                                id="{{campo.codCampo}}"
                                                                                ng-model="vm.nuevoValoresPoliza.poliza[vm.formatValues(campo.codCampo)]" />
                                                                            <i ng-if="campo.mcaProtegido === 'N' && vm.editableValue()"
                                                                                class="glyphicon glyphicon-pencil"></i>
                                                                        </div>
                                                                    </li>

                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </uib-tab>
                            <uib-tab index="1">
                                <uib-tab-heading>Datos Variables Riesgo</uib-tab-heading>
                                <div class="content-tab">
                                    <div class="pt-xs-2">
                                        <div class="row">
                                            <div ng-repeat="riesgo in vm.riesgos[0] track by $index" class="col-md-12" ng-init="i = $index">
                                                <div>
                                                    <p ng-click="vm.toggleTableRisk(riesgo)"
                                                        style="background-color: #D81E05; border-radius: 4px;color: white;padding: 10px;cursor: pointer;">
                                                        <span class="glyphicon" ng-class="{'glyphicon-chevron-down': !riesgo.isOpen, 'glyphicon-chevron-up': riesgo.isOpen}"></span>
                                                        Riesgo:
                                                        {{riesgo.nombreRiesgo}}
                                                    </p>
                                                    <div
                                                        class="clearfix table__1024 g-tbl-habilitarPlanes" ng-class="{hidden: !riesgo.isOpen}">
                                                        <ul height-row class="g-row-fz12 g-tbl-row gBgcGray5 pt-xs-1">
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Dato Variable
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Valor Vigente
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp" ng-if="vm.poliza.codEstadoRenovacion !== 'RENOVADA'">
                                                                PRE - Renovado
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp" ng-if="vm.poliza.codEstadoRenovacion == 'RENOVADA'">
                                                                Renovado
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Nuevo Valor
                                                            </li>
                                                        </ul>
                                                        <ul ng-if="campo.mcaVisible === 'S'" style="min-height: 40px;"
                                                            height-row class="g-row-fz12 g-tbl-row gBgcGray5 pt-xs-1">
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Campo
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Valor Vigente
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp" ng-if="vm.poliza.codEstadoRenovacion !== 'RENOVADA'">
                                                                PRE - Renovado
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp" ng-if="vm.poliza.codEstadoRenovacion == 'RENOVADA'">
                                                                Renovado
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Nuevo Valor
                                                            </li>
                                                        </ul>
                                                        <div class="mb-xs-1">
                                                            <div ng-repeat="campo in vm.camposDinamicosRiesgos[i] track by $index"
                                                                ng-init="indice = $index">
                                                                <ul ng-if="campo.mcaVisible == 'S'"
                                                                    style="min-height: 40px;" height-row
                                                                    class="g-row-fz12 g-tbl-row pt-xs-1 g-border-bottom-xs">
                                                                    <li
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        {{campo.nomCampo}}</li>
                                                                    <li
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        <div ng-if="campo.txtCampo">
                                                                            {{campo.txtCampo}}
                                                                        </div>
                                                                        <div ng-if="!campo.txtCampo">
                                                                            {{campo.valCampo}}
                                                                        </div>
                                                                    </li>
                                                                    <li
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        <div ng-if="vm.suplementos.length > 1">
                                                                            <span ng-if="vm.camposDinamicosRiesgosRenovaciones[i][indice].txtCampo">{{vm.camposDinamicosRiesgosRenovaciones[i][indice].txtCampo}}</span>
                                                                            <span ng-if="!vm.camposDinamicosRiesgosRenovaciones[i][indice].txtCampo">{{vm.camposDinamicosRiesgosRenovaciones[i][indice].valCampo}}</span>
                                                                        </div>

                                                                    </li>
                                                                    <li
                                                                        class="text-center g-col g-col-xs col-25-dktp tbl-item">
                                                                        <div ng-if="campo.mcaLista === 'S'">
                                                                            <div
                                                                                ng-if="vm.formatValues(campo.codCampo) === 'codUsoVehi'">
                                                                                <select
                                                                                    ng-if="vm.comboUsoRiesgos[i].length > 0 && campo.mcaProtegido === 'N'"
                                                                                    ng-disabled="!vm.editableValue()"
                                                                                    style="border:transparent"
                                                                                    ng-model="vm.nuevoValoresPoliza.riesgos[i].codUsoVehiculo">
                                                                                    <option ng-value=""> </option>

                                                                                    <option
                                                                                        ng-repeat="item in vm.comboUsoRiesgos[i]"
                                                                                        ng-value="item.codigo">
                                                                                        {{item.descripcion}}
                                                                                    </option>
                                                                                </select>
                                                                                <i ng-if="vm.editableValue() && vm.comboUsoRiesgos[i].length > 0 && campo.mcaProtegido === 'N'"
                                                                                    class="glyphicon glyphicon-pencil"></i>
                                                                            </div>
                                                                            <div
                                                                                ng-if="vm.formatValues(campo.codCampo) === 'codModalidad'">
                                                                                <select
                                                                                    ng-if="vm.comboModalidadRiesgos[i].length > 0 && campo.mcaProtegido === 'N'"
                                                                                    ng-disabled="!vm.editableValue()"
                                                                                    style="border:transparent"
                                                                                    ng-change="vm.cambiarCombo(vm.nuevoValoresPoliza.riesgos[i][vm.formatValues(campo.codCampo)],'Modalidad', i)"
                                                                                    ng-model="vm.nuevoValoresPoliza.riesgos[i][vm.formatValues(campo.codCampo)]">
                                                                                    <option ng-value=""> </option>
                                                                                    <option
                                                                                        ng-repeat="item in vm.comboModalidadRiesgos[i]"
                                                                                        ng-value="item.codigo">
                                                                                        {{item.descripcion}}
                                                                                    </option>
                                                                                </select>
                                                                                <i ng-if="campo.mcaProtegido === 'N' && vm.editableValue() && campo.mcaProtegido === 'N'"
                                                                                    class="glyphicon glyphicon-pencil"></i>
                                                                            </div>
                                                                            <div
                                                                                ng-if="campo.codCampo === 'LIM_RC_AUSENCIA_CONTROL'">
                                                                                <select
                                                                                    ng-if="vm.limiteUso[i].length > 0 && campo.mcaProtegido === 'N'"
                                                                                    ng-disabled="!vm.editableValue()"
                                                                                    style="border:transparent"
                                                                                    ng-model="vm.nuevoValoresPoliza.riesgos[i].limRcAuscControl">
                                                                                    <option ng-value=""> </option>

                                                                                    <option
                                                                                        ng-repeat="item in vm.limiteUso[i]"
                                                                                        ng-value="item.codigo">
                                                                                        {{item.descripcion}}
                                                                                    </option>
                                                                                </select>
                                                                                <i ng-if="campo.mcaProtegido === 'N' && vm.editableValue()"
                                                                                    class="glyphicon glyphicon-pencil"></i>
                                                                            </div>
                                                                        </div>
                                                                        <div ng-if="campo.mcaLista !== 'S'">

                                                                            <select
                                                                                ng-if="campo.codCampo === 'PCT_COMISION_AGT' && campo.mcaProtegido === 'N'"
                                                                                ng-disabled="!vm.editableValue()"
                                                                                ng-change="vm.cambiarCombo(vm.pctComisionAGT,'PCT_COMISION_AGT',i)"
                                                                                ng-model="vm.pctComisionAGT"                                                                                
                                                                                id="{{i}}-{{campo.codCampo}}"
                                                                                style="border:transparent">
                                                                                <option ng-value=""> </option>
                                                                                <option
                                                                                    ng-repeat="item in vm.combopctComisionAgtRiesgos[i]"
                                                                                    ng-value="item.codigo">
                                                                                    {{item.descripcion}}
                                                                                </option>
                                                                            </select>
                                                                            <input ng-disabled="!vm.editableValue()"
                                                                                class="no-border g-text-uppercase"
                                                                                id="{{i}}-{{campo.codCampo}}"
                                                                                ng-if="campo.mcaProtegido === 'N' && vm.editableValue() && campo.codCampo == 'NUM_MATRICULA'"
                                                                                ng-model="vm.nuevoValoresPoliza.riesgos[i].numPlacaVehiculo" />
                                                                            <input ng-disabled="!vm.editableValue()"
                                                                                class="no-border g-text-uppercase"
                                                                                id="{{i}}-{{campo.codCampo}}"
                                                                                ng-if="campo.mcaProtegido === 'N' && vm.editableValue() && campo.codCampo == 'NUM_SERIE'"
                                                                                ng-model="vm.nuevoValoresPoliza.riesgos[i].numSerieVehiculo" />

                                                                            <input ng-disabled="!vm.editableValue()"
                                                                                class="no-border g-text-uppercase"
                                                                                id="{{i}}-{{campo.codCampo}}"
                                                                                ng-if="campo.mcaProtegido === 'N' && vm.editableValue() && campo.codCampo == 'NUM_MOTOR'"
                                                                                ng-model="vm.nuevoValoresPoliza.riesgos[i].numMotorVehiculo" />

                                                                            <input ng-disabled="!vm.editableValue()"
                                                                                class="no-border g-text-uppercase"
                                                                                id="{{i}}-{{campo.codCampo}}"
                                                                                ng-if="campo.mcaProtegido === 'N' && vm.editableValue() && campo.codCampo == 'MCA_VEH_NUEVO'"
                                                                                ng-model="vm.nuevoValoresPoliza.riesgos[i].mcaNuevoVehiculo" />
                                                                            <input
                                                                                ng-if="campo.mcaProtegido === 'N' && vm.editableValue() && campo.codCampo !== 'COD_USO_VEHI'&& campo.codCampo !== 'NUM_MATRICULA'&& campo.codCampo !== 'NUM_SERIE'
                                                                                && campo.codCampo !== 'NUM_MOTOR'&& campo.codCampo !== 'MCA_VEH_NUEVO'&& campo.codCampo !== 'PCT_COMISION_AGT'"
                                                                                ng-disabled="!vm.editableValue()"
                                                                                class="no-border g-text-uppercase"
                                                                                id="{{i}}-{{campo.codCampo}}"
                                                                                ng-model="vm.nuevoValoresPoliza.riesgos[i][vm.formatValues(campo.codCampo)]" />
                                                                            <i ng-if="campo.mcaProtegido === 'N' && vm.editableValue()"
                                                                                class="glyphicon glyphicon-pencil"></i>
                                                                        </div>
                                                                    </li>

                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </uib-tab>
                            <uib-tab index="2">
                                <uib-tab-heading>Endosatario</uib-tab-heading>
                                <div class="content-tab">
                                    <div class="clearfix g-overflow-hidden-xs mt-xs-2 mb-xs-2 ng-scope">
                                        <div class="row h-myd-ml--0 h-myd-mr--0 g-list-md mb-xs-1">
                                            <div class="col-md-12">
                                                <div class="clearfix g-tbl-wrapper align-vertical">
                                                    <div class="clearfix table__1024 g-tbl-habilitarPlanes">
                                                        <ul height-row style="min-height: 80px;"
                                                            class="g-row-fz12 gBgcGray5 pt-xs-1">
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-8-dktp">
                                                                Suplemento
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-10-dktp">
                                                                Nro. Riesgo
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-8-dktp">
                                                                Tip. Doc
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-8-dktp">
                                                                Nro. Doc
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-10-dktp">
                                                                Endosatario
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-25-dktp">
                                                                Materia asegurada
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-8-dktp">
                                                                Moneda
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-10-dktp">
                                                                Imp. Cesión
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-8-dktp">
                                                                Fec. Vcto
                                                            </li>
                                                            <li
                                                                class="text-center g-col g-col-xs tbl-item item-title col-5-dktp">
                                                                Acción
                                                            </li>
                                                        </ul>
                                                        <div ng-repeat="endosatario in vm.endosatarios track by $index"
                                                            class="mb-xs-1">
                                                            <ul height-row style="min-height: 80px;"
                                                                class="g-row-fz12 pt-xs-1 g-border-bottom-xs">
                                                                
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp g-text-uppercase">
                                                                    Vigente
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-10-dktp">
                                                                    {{endosatario.nroRiesgo}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp">
                                                                    {{endosatario.tipDocumEndosatario}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp">
                                                                    {{endosatario.codDocumEndosatario}}
                                                                </li>
                                                                <li style="height: auto !important;"
                                                                    class="text-center g-col g-col-xs tbl-item  col-10-dktp">
                                                                    {{endosatario.endosatario}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-25-dktp">
                                                                    {{endosatario.materiaAsegurada}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp">
                                                                    {{vm.poliza.moneda.nomMon}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-10-dktp">
                                                                    {{endosatario.impCesion}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp">
                                                                    {{endosatario.fechaVencimientoCesion}}
                                                                </li>
                                                                

                                                            </ul>
                                                        </div>
                                                        <div ng-repeat="endosatario in vm.endosatariosReno track by $index"
                                                            class="mb-xs-1">
                                                            <ul height-row
                                                                style="min-height: 80px;height: auto !important;"
                                                                class="g-row-fz12 pt-xs-1 g-border-bottom-xs">
                                                                <li ng-if="!vm.suplemento.tipoSuplemento"
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp g-text-uppercase">
                                                                    Pendiente
                                                                </li>
                                                                <li ng-if="vm.suplemento.tipoSuplemento && vm.suplemento.tipoSuplemento == 'renovacion'"
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp g-text-uppercase">
                                                                    Renovada
                                                                </li>
                                                                <li ng-if="vm.suplemento.tipoSuplemento && vm.suplemento.tipoSuplemento != 'renovacion'"
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp g-text-uppercase">
                                                                    {{vm.suplemento.tipoSuplemento}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-10-dktp">
                                                                    {{endosatario.nroRiesgo}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp">
                                                                    {{endosatario.tipDocumEndosatario}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp">
                                                                    {{endosatario.codDocumEndosatario}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-10-dktp hauto">
                                                                    <div>{{endosatario.endosatario}}</div>
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-25-dktp">
                                                                    {{endosatario.materiaAsegurada}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp">
                                                                    {{vm.poliza.moneda.nomMon}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-10-dktp">
                                                                    {{endosatario.impCesion}}
                                                                </li>
                                                                <li
                                                                    class="text-center g-col g-col-xs tbl-item  col-8-dktp">
                                                                    {{endosatario.fechaVencimientoCesion}}
                                                                </li>
                                                                <li
                                                                class="text-center g-col g-col-xs tbl-item  col-5-dktp">
                                                                <a ng-if="vm.poliza.codEstadoRenovacion != 'RENOVADA'"
                                                                    ng-click="vm.eliminarEndosatario(endosatario,$index)">
                                                                    <i
                                                                        class="font-icon-size glyphicon glyphicon-remove"></i></a>
                                                            </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2 grid-elegido-btns-box">
                                                        <a ng-if="vm.editableValue()"
                                                            style="margin-top:16px;width: 100%;border: 1px solid #749806;border-radius: 3px;background-color: white;color: #749806;text-transform: none;"
                                                            ng-click="showModalEndosatario()" class="g-btn">Agregar</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </uib-tab>
                        </uib-tabset>
                    </div>
                </div>
                <!-- Fin: Resultados -->
                <div class="row">
                    <div class="col-12"
                        style="border: 1px solid red;height: 150px;margin: 25px;padding:32px;border-radius: 4px;">
                        <p style="color: red;">Alertas:</p>
                        <ul>
                            <li class="lista">Se debe realizar el proceso de renovar durante el dia que se inicia</li>
                            <li ng-repeat="alert in vm.alerts track by $index" class="lista">{{alert}}</li>
                        </ul>
                    </div>
                </div>
                <!-- Paginación -->
                <div class="row">
                    <div class="col-md-12" style="display: flex;justify-content: flex-end;">

                        <div class="col-md-2 grid-elegido-btns-box">
                            <!-- <a ng-click="vm.preRenovarPoliza()" style="width: 100%;"
                                class="g-btn g-btn-verde">Pre-renovar</a> -->
                            <a ng-class="{disabled: !vm.clienteValido || vm.poliza.codEstadoPoliza != 'V' || vm.poliza.numDiasVencimiento >= vm.diasVencimiento || vm.poliza.codEstadoRenovacion == 'RENOVADA'}"
                                ng-click="vm.preRenovarPoliza()" style="width: 100%;"
                                class="g-btn g-btn-verde">Pre-renovar</a>
                        </div>


                        <div class="col-md-2 grid-elegido-btns-box">
                            <a ng-class="{disabled: !vm.clienteValido || vm.poliza.codEstadoPoliza != 'V' || vm.poliza.codEstadoRenovacion != 'PRE_RNVD' || vm.poliza.numDiasVencimiento >= vm.diasVencimiento || vm.changeEndosatario}"
                                ng-disabled="!vm.clienteValido || vm.poliza.codEstadoPoliza != 'V' || vm.poliza.codEstadoRenovacion != 'PRE_RNVD' || vm.poliza.numDiasVencimiento >= vm.diasVencimiento || vm.changeEndosatario"
                                ng-click="vm.renovarPoliza()" style="width: 100%;"
                                class="g-btn  g-btn-verde">Renovar</a>
                        </div>

                        <div class="col-md-2 grid-elegido-btns-box">
                            <a ng-class="{disabled: !vm.clienteValido || vm.poliza.codEstadoRenovacion != 'RENOVADA' }"
                                ng-click="vm.anularPoliza()"
                                ng-disabled="!vm.clienteValido || vm.poliza.codEstadoRenovacion != 'RENOVADA'"
                                style="width: 100%;" class="g-btn g-btn-verde">Anular
                                Renov.</a>
                        </div>

                        <div class="col-md-2 grid-elegido-btns-box">
                            <a ng-click="vm.cancelarAccion(vm.tipoProceso)" style="width: 100%;"
                                class="g-btn g-btn-verde">Salir</a>
                        </div>
                    </div>
                </div>
                <!-- Fin Paginación -->
            </div>
        </div>
    </div>
</div>