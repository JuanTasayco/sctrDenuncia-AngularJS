<section class="suscripcion-paso3">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <div class="g-list-md g-box gBgcGray5 pt-xs-2 pb-xs-2 g-row-fz12">
                    <div class="col-md-12 g-col-md middle">
                        <ul class="row">
                            <li class="col-md-4 clearfix mt-xs-1 cnt-item">
                                <div class="col-xs-5 item-label">
                                    Producto:
                                </div>
                                <div class="col-xs-7 item-dato g-text-uppercase">
                                    {{firstStep.Producto.NombreProducto}}
                                </div>
                            </li>
                            <li class="col-md-4 clearfix mt-xs-1 cnt-item">
                                <div class="col-xs-5 item-label">
                                    Corredor de seguro:
                                </div>
                                <div class="col-xs-7 item-dato g-text-uppercase">
                                {{firstStep.Agente.NombreCompleto}}
                                </div>
                            </li>
                            <li class="col-md-4 clearfix mt-xs-1 cnt-item">
                                <div class="col-xs-5 item-label">
                                    Metodo de pago:
                                </div>
                                <div class="col-xs-7 item-dato g-text-uppercase">
                                    {{firstStep.NombreFinanciamiento}}
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-xs-4 h-myd--none">
            <div class="col-xs-12">
                <div class="g-new-alert gBgcGray5 g-div-middle">
                    <div class="g-new-alert-icon">
                        <span class="ico-mapfre_186_sucess gCGreen1"></span>
                    </div>
                    <div class="g-new-alert-text no-padding-xs gCGray2 fwBold">
                        El cuestionario se guardó exitosamente
                    </div>
                    <div class="g-new-alert-btn g-icon gCGreen1 fwBold">
                        <span class="ico-mapfre_315_pdf icon"></span>
                        <span class="g-link gH5" ng-click="descargarCuestionario()"><b>Descargar</b></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-xs-1 mb-xs-2 h-myd--block h-oim-none">
            <div class="col-xs-9">
                <div class="g-myd-alert">
                    <div class="g-myd-alert--message">
                        <span class="alert__icon ico-mapfre-346-sucess"></span>
                        <span class="alert__text">El cuestionario se guardó exitosamente</span>
                    </div>
                    <p class="g-myd-alert--info">Para completar la suscripción ingresa la firma del documento DPS</p>
                </div>
            </div>
            <div class="col-xs-3">
                <div class="g-myd-alert">
                    <div class="g-new-alert-btn g-icon gCGreen1 fwBold">
                        <span class="ico-mapfre_315_pdf icon"></span>
                        <span class="g-link gH5" ng-click="descargarCuestionario()"><b>Descargar</b></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-xs-4 h-myd--block h-oim-none">
            <div class="col-xs-12">
                Componente de firma
            </div>
        </div>
        <div class="row mb-xs-4" ng-if="firstStep.EstadoSolicitud === ''">
            <div class="col-xs-12">
                <div class="row mb-xs-2">
                    <div class="col-xs-12">
                        <h2 class="gH3 gCGray2 fwBold pb-xs-1 g-border-bottom h-myd-border--none  h-myd-pb--0">Adjuntar documentos</h2>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <div class="g-new-list-documents g-myd-box h-myd-p--0">
                            <div class="row" ng-repeat="documentoInfo in documentosInfo">
                                <div class="clearfix g-border-bottom g-new-list-content g-div-middle g-myd-list-files">
                                    <div class="col-xs-3 col-sm-2 col-md-1 pl-xs-0 text-center g-span-middle g-border-right list-document">
                                        <span class="icon h-myd--none ico-document ico-mapfre_94_documentos icongCGray2">
                                            <span class="ico-info ico-mapfre_222_informacion icon gH3 gCRed4" ng-if="documentoInfo.MCA_OBLGTRO == 'S'" uib-tooltip="Archivo obligatorio"></span>
                                        </span>
                                        <span class="icon h-myd--show h-oim-none ico-document ico-mapfre-348-myd-file gCGray2">
                                            <span class="ico-alert ico-mapfre_222_informacion icon gH3 gCRed4" ng-if="documentoInfo.MCA_OBLGTRO == 'S'" uib-tooltip="Archivo obligatorio"></span>
                                        </span>
                                    </div>
                                    <div class="col-xs-9 col-sm-5 col-md-7 g-new-list-p15">
                                        <div class="title-document g-new-lh-1 gH3 gCGray2 h-myd--fz18">{{documentoInfo.DSCRPCN}}</div>
                                        <span class="gH7 fwLight" ng-repeat="file in documentosInfo[$index].fileNombre"   ng-if="documentoInfo.fileNombre">
                                            {{ file }}
                                            <span class="h-myd--none icon ico-mapfre_307_tacho h-font-10 gCGreen1 g-u-cursor--pointer" ng-click="limpiarArchivo($parent.$parent.$index, $index)"></span> <br/>
                                        </span>
                                    </div>
                                    <div ng-class="documentoInfo.file ? 'col-xs-10' : 'col-xs-12'" class="col-sm-4 col-md-3 pl-xs-0 mt-xs-2 mt-sm-0 g-new-list-download">
                                        <label class="g-btn g-btn-green-border second-design block g-btn-input-file" ng-if="$index !== 1">
                                            <span class="g-icon">
                                                <span class="h-myd--none icon icon-plus ico-mapfre_56_visitasalmedico"></span>
                                                <span class="h-myd--show h-oim-none icon icon-plus ico-mapfre-366-myd-agregar"></span>
                                                <span>Adjuntar documentos</span>
                                            </span>
                                            <input
                                            type="file"
                                            file-model="documentoInfo.file"
                                            ng-model="files" multiple=""
                                            accept=".jpeg,.msg,.wav,.pdf,.docx"
                                            data-show-preview="false"
                                            name="nAjuntarDocumento"
                                            id="file{{$index}}"
                                            onchange="angular.element(this).scope().fnLoadFile(angular.element(this).scope().$index)">
                                        </label>
                                        
                                        <label class="g-btn g-btn-green-border second-design block g-btn-input-file" ng-if="$index === 1">
                                            <span class="g-icon">
                                                <span class="h-myd--none icon icon-plus ico-mapfre_56_visitasalmedico"></span>
                                                <span class="h-myd--show h-oim-none icon icon-plus ico-mapfre-366-myd-agregar"></span>
                                                <span>Adjuntar documento</span>
                                            </span>
                                            <input
                                            type="file"
                                            file-model="documentoInfo.file"
                                            ng-model="files"
                                            accept=".jpeg,.msg,.wav,.pdf,.docx"
                                            data-show-preview="false"
                                            name="nAjuntarDocumento"
                                            id="file{{$index}}"
                                            onchange="angular.element(this).scope().fnLoadFile(angular.element(this).scope().$index)">
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-xs-1" ng-if="firstStep.EstadoSolicitud === ''">
            <div class="col-xs-12 col-sm-6 col-md-4 col-sm-offset-3 col-md-offset-4">
                <a class="g-btn g-btn-verde block"
                ga-click ga-category="'Emisa - Salud'" ga-action="'MPF - Emisión'" ga-label="'Botón: Suscribir'"
                ng-click="suscripcion()" href="javascript:void(0)">Suscribir</a>
            </div>
        </div>

        <div class="cntContent container" ng-if="firstStep.EstadoSolicitud !== '' ">
            <div class="row mb-xs-3">
                <div class="col-xs-12 text-center">
                    <h2 class="gH3 fwBold gCGray2 g-border-bottom pb-xs-2">Adjuntar documentos</h2>
                </div>
            </div>
            <div class="row mb-xs-1">
                <div class="col-xs-12 g-new-list-documents">
                    <div class="row" ng-repeat="documento in documentosSalud | filter: { COD_GD: '!999' }: true">
                        <div class="clearfix g-border-bottom g-new-list-content g-div-middle">
                            <div class="col-xs-3 col-sm-2 col-md-2 pl-xs-0 text-center g-span-middle g-border-right">
                                <span class="ico-document ico-mapfre_94_documentos icon gH1 gCGray2"></span>
                                <span class="ico-mapfre_222_informacion icon gH3 gCRed4" ng-if="documento.MCA_OBLGTRO === 'S'" ></span>
                            </div>
                            <div class="col-xs-9 col-sm-5 col-md-5 g-new-list-p15">
                                <div class="title-document g-new-lh-1 gH5 gCGray2">{{documento.DSCRPCN}}</div>
                                <span class="gH7 fwLight" ng-if="documento.fileNombre">{{documento.fileNombre}}</span>
                                <h4 class="gH7 fwBold mt-xs-0-5 mb-xs-0" ng-if="documento.OBSERVACION">Observación:</h4>
                                <p class="gH8 fwLight mb-xs-0" ng-if="documento.OBSERVACION">{{documento.OBSERVACION}}</p>
                            </div>
                            <div class="col-xs-10 col-sm-4 col-md-4 pl-xs-0 mt-xs-2 mt-sm-0 g-border-right" ng-if="documento.MCA_OBSRVDO === 'S'" >
                                <label class="g-btn g-btn-green-border second-design block g-btn-input-file">
                                    <span class="g-icon">
                                        <span class="icon icon-plus ico-mapfre_56_visitasalmedico"></span>
                                        <span>Adjuntar documento</span>
                                    </span>
                                    <input
                                      type="file"
                                      file-model="documento.file"
                                      accept=".jpeg,.msg,.wav,.pdf,.docx"
                                      data-show-preview="false"
                                      name="nAjuntarDocumento"
                                      onchange="angular.element(this).scope().fnLoadFile4(angular.element(this).scope().documento)">
                                </label>
                            </div>
                            <div class="col-xs-2 col-sm-1 mt-xs-2 mt-sm-0 text-center g-new-list-p15" ng-if="documento.MCA_OBSRVDO === 'S'" >
                                <span class="ico-mapfre_307_tacho icon gH1 gCGreen1 g-u-cursor--pointer" ng-click="limpiarArchivo4(documento)"></span>
                            </div>
                        </div>
                    </div>
    
                    <div class="row">
                      <div class="col-xs-12 mt-xs-3">
                        <h5>Información adicional</h5>
                      </div>
                    </div>
    
                    <div class="row" ng-repeat="documento in documentosSalud | filter: { COD_GD: '999' }: true">
                      <div class="clearfix g-border-bottom g-new-list-content g-div-middle">
                          <div class="col-xs-3 col-sm-2 col-md-2 pl-xs-0 text-center g-span-middle g-border-right">
                              <span class="ico-document ico-mapfre_94_documentos icon gH1 gCGray2"></span>
                              <span class="ico-mapfre_222_informacion icon gH3 gCRed4"  ng-if="documento.MCA_OBLGTRO === 'S'" ></span>
                          </div>
                          <div class="col-xs-9 col-sm-5 col-md-5 g-new-list-p15">
                              <div class="title-document g-new-lh-1 gH5 gCGray2">{{documento.DSCRPCN}}</div>
                              <span class="gH7 fwLight" ng-if="documento.fileNombre">{{documento.fileNombre}}</span>
                              <h4 class="gH7 fwBold mt-xs-0-5 mb-xs-0" ng-if="documento.OBSERVACION">Observación:</h4>
                              <p class="gH8 fwLight mb-xs-0" ng-if="documento.OBSERVACION">{{documento.OBSERVACION}}</p>
                          </div>
                          <div class="col-xs-10 col-sm-4 col-md-4 pl-xs-0 mt-xs-2 mt-sm-0 g-border-right" >
                              <label class="g-btn g-btn-green-border second-design block g-btn-input-file">
                                  <span class="g-icon">
                                      <span class="icon icon-plus ico-mapfre_56_visitasalmedico"></span>
                                      <span>Adjuntar documento</span>
                                  </span>
                                  <input
                                    type="file"
                                    file-model="documento.file"
                                    accept=".jpeg,.msg,.wav,.pdf,.docx"
                                    data-show-preview="false"
                                    name="nAjuntarDocumento"
                                    onchange="angular.element(this).scope().fnLoadFile4(angular.element(this).scope().documento)">
                              </label>
                          </div>
                          <div class="col-xs-2 col-sm-1 mt-xs-2 mt-sm-0 text-center g-new-list-p15" >
                              <span class="ico-mapfre_307_tacho icon gH1 gCGreen1 g-u-cursor--pointer" ng-click="limpiarArchivo4(documento)"></span>
                          </div>
                      </div>
                    </div>
    
                    <div class="row">
                      <div class="col-xs-12 mt-xs-3" ng-if="comentario">
                        <p><b>Comentarios:</b></p>
                        <p class="mb-xs-0">{{comentario}}</p>
                      </div>
    
                      <div class="col-xs-12 mt-xs-3">
                        <mpf-textarea label="{label:'Comentarios adicionales:'}" ng-model="firstStep.comentarioAdicional4" name="comentarioAdicional" ng-Maxlength="4000"></mpf-textarea>
                      </div>
                    </div>
    
                </div>
            </div>
            <div class="row pt-xs-2">
                <div class="col-xs-12 col-sm-6 col-md-4 col-sm-offset-3 col-md-offset-4">
                    <a class="g-btn g-btn-verde block" ng-click="suscripcion4()" href="javascript:void(0)">Aceptar</a>
                </div>
            </div>
        </div>


    </div>
</section>
