<section class="g-page g-page-documents g-ui-view">

	<page-title info="{title: 'Cotizaciones'}"></page-title>
			<div class="g-section-inner">
				<div class="container">
						<div class="row">
							<!-- Consulta de documentos -->
							<div class="col-md-3 mb-xs-2">
								<div show-filter class="clearfix g-col-filter g-box-md fz14 gBgcGray5-md gBgcWhite1 g-myd-box" ng-class="{'show': isFilterVisible}">
									<form action="" name="frmDocuments">
										<div class="col-md-12 mb-xs-3 gH4 gCGray1">
											<h2 class="pb-xs-1 g-border-bottom-xs hidden-xs hidden-sm">Filtro</h2>
											<div id="show-filter" class="row pt-xs-2 pb-xs-2 gBgcGray5 g-border-bottom-xs hidden-md hidden-lg" ng-click="toggleFilter();">
												<div class="col-xs-10"><h2 class="cnt-title">Filtro</h2></div>
												<div class="col-xs-2 g-text-right-xs">
													<span class="glyphicon glyphicon-chevron-down" ng-if="isFilterVisible"></span>
													<span class="glyphicon glyphicon-chevron-up" ng-if="!isFilterVisible"></span>
												</div>
												<div class="clearfix"></div>
											</div>
										</div>
										<div class="g-col-filter__box">
											<div class="col-md-12 mb-xs-2">
												<mpf-select
												label="{label: 'Productos', required: false}"
												name="nProductoFilter"
												ng-model="data.mProductoFilter"
												m-data-source="tipoProductoData"
												text-field="NombreProducto"
												value-field="CodigoProducto"
												m-Empty-Option="{text:'todos'}"
                				mpf-Validation="required"
												></mpf-select>
											</div>
											<div class="col-md-12 mb-xs-2">
												<div class="row">
													<div class="col-md-6 mt-xs-2">
														<div class="g-date-picker">
															<!-- <p class="input-group mb-xs-0"> -->
															<label class="g-placeholder animated">Desde<span></span>:</label>
															<input
																type="text"
																class="form-control"
																uib-datepicker-popup="{{format}}"
																ng-model="data.mConsultaDesde"
																is-open="popupStart.opened"
																datepicker-options="dateOptionsStart"
																ng-required="true"
																close-text="Close"
																alt-input-formats="altInputFormats"
																placeholder="{{hoy}}"
																readonly="true"
															/>
															<span class="input-group-btn">
																<button type="button" class="btn btn-default" ng-click="openDateStart()"><i class="glyphicon glyphicon-calendar"></i></button>
															</span>
															<!-- </p> -->
														</div>
													</div>
													<div class="col-md-6 mt-xs-2">
														<div class="g-date-picker">
															<!-- <p class="input-group mb-xs-0"> -->
															<label class="g-placeholder animated">Hasta<span></span>:</label>
															<input
															type="text"
															class="form-control"
															uib-datepicker-popup="{{format}}"
															ng-model="data.mConsultaHasta"
															is-open="popupEnd.opened"
															datepicker-options="dateOptionsEnd"
															ng-required="true"
															close-text="Close"
															alt-input-formats="altInputFormats"
															placeholder="{{hoy}}"
															readonly="true"
															/>
															<span class="input-group-btn">
																<button type="button" class="btn btn-default" ng-click="openDateEnd()"><i class="glyphicon glyphicon-calendar"></i></button>
															</span>
															<!-- </p> -->
														</div>
													</div>
												</div>
											</div>

											<div class="col-md-12 mb-xs-2">
												<div class="row">
													<div class="col-md-12">
														<mpf-input
														label="{label: 'Contratante', required: false}"
														name="nContratante"
														ng-model="data.mContratante"
														></mpf-input>
													</div>
												</div>
											</div>

											<div class="col-md-12 mb-xs-1">
												<a class="g-btn g-btn-verde block" ng-click="search()">Filtrar</a>
											</div>
											<div class="col-md-12">
												<a class="g-btn g-btn-white block" ng-click="cleaner()">Limpiar</a>
											</div>
										</div>
									</form>
								</div>
							</div>
							<div class="col-md-9">
								<!-- Inicio: Resultados -->
								<div class="clearfix g-box g-overflow-hidden-xs mb-xs-2 g-myd-result" ng-repeat="item in data.mListEmit" >
									<!-- box header -->
									<div class="row pt-xs-1 gBgcGray5">
										<ul class="clearfix g-list-sm">
											<li class="col-md-8 col-sm-9">
												<ul class="row">
													<li class="col-sm-6 clearfix cnt-item">
														<div class="col-sm-12 col-xs-12 item-label gH4">
															Nro. cotización: {{item.NumDocumBE}}
														</div>
													</li>
													<li class="col-sm-6 clearfix cnt-item">
														<div class="col-sm-5 col-xs-4 item-label">
															Fecha cotización:
														</div>
														<div class="col-sm-7 col-xs-8 item-dato g-text-uppercase">
															{{item.FecRegBE}}
														</div>
													</li>
												</ul>
											</li>
											<li class="col-md-4 clearfix">
												<div class="col-md-12 mb-xs-1">
													<a href="" class="g-btn g-btn-white block add-ico" ng-click="viewDetails(item.NumDocumBE)">Ver cotización</a>
												</div>
											</li>
										</ul>
									</div>
									<!-- box-body -->
									<div class="row g-box-content">
										<ul class="clearfix g-list-sm">
											<li class="col-md-4 clearfix cnt-item">
												<div class="col-sm-5 col-xs-4 item-label">
													Producto:
												</div>
												<div class="col-sm-7 col-xs-8 item-dato g-text-uppercase">
													{{item.NomProd}}
												</div>
											</li>
											<li class="col-md-4 clearfix cnt-item">
												<div class="col-sm-5 col-xs-4 item-label">
													Contratante:
												</div>
												<div class="col-sm-7 col-xs-8 item-dato g-text-uppercase">
													{{item.Nombre}} {{item.APaterno}} {{item.AMaterno}}
												</div>
											</li>
											<li class="col-md-4  clearfix cnt-item">
												<div class="col-sm-5 col-xs-4 item-label">
													Usuario:
												</div>
												<div class="col-sm-7 col-xs-8 item-dato g-text-uppercase">
													{{item.CodigoUsuario}}
												</div>
											</li>
										</ul>
									</div>
								</div>
								<!-- Fin: Resultados -->

								<!-- Inicio: Paginacion -->
									<!-- <div class="row" ng-show="data.mListEmit.length > 0 && data.numItems > 10">
										<div class="col-md-12">
											<ul
											uib-pagination class="g-pagination"
											ng-model="searchClient.mPagination"
											max-size="10"
											total-items="100"
											boundary-link-numbers="true"
											></ul>
										</div>
									</div> -->

						    <mx-paginador
						      data-datos="data.mListEmit"
						      data-items-x-page="itemsXPagina"
						      data-msg-vacio="msgVacio"
						      data-on-paginar="pageChanged($event)"
						      data-pagina-actual="paginaActual"
						      data-total-items="data.numItems"
						    >
						    </mx-paginador>

								<!-- Mensaje de error si no hay resultados -->
								<!-- <div class="col-md-12 text-center g-box-noresult" ng-show="noResults">
									<div class="row">
										<div class="col-md-12 g-box-noresult-ico gCRed1">
											<span class="ico-mapfre_302_error"></span>
										</div>
										<div class="col-md-12 g-box-noresult-text">{{msgVacio}}</div>
									</div>
								</div> -->
								<!-- Fin: Paginacion -->
							</div>
							<!-- FIN: Resultado de consulta de documentos -->
						</div>
				</div>
			</div>
</section>
