<section class="g-page page-modal">
  <button type="button" class="close g-close-modal" ng-click="closeModal()">
    <span class="ico-mapfre_46_cancelaroff"></span>
  </button>

  <form name="formData.frmMaintenanceForm">
    <div ng-if="!message">
      <div class="container">
        <div class="row">
          <div class="col-md-12 mb-xs-2 g-title-modal">
            <h2>NUEVO SUSCRIPTOR</h2>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="row">
          <div class="col-md-4 mb-xs-2">
            <mpf-input
              label="{label: 'Usuario OIM:', required: true}"
              ng-model="formData.mCodigoSus"
              name="nCodigo"
              ng-required="true"
            ></mpf-input>
            <ul class="g-error">
              <li
                ng-show="(formData.frmMaintenanceForm.nCodigo.$error.required && !formData.frmMaintenanceForm.nCodigo.$pristine) || formData.vacio"
              >
                * Este campo es obligatorio
              </li>
            </ul>
          </div>
          <div class="col-md-2 mb-xs-2">
            <a
              class="g-btn g-btn-transparent g-btn-mini g-polizagrupo-button mt-md-3 h-myd-mt--15"
              ng-click="buscarSuscriptor(formData.mCodigoSus)"
              ><span class="ico-mapfre_30_buscar"></span> Buscar</a
            >
          </div>
          <div class="col-md-4 mb-xs-2 mt-md-4 g-text-left-xs u-txt--rojo-4" data-ng-show="usuarioNoExiste">
            Usuario no existe en la OIM
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 mb-xs-2">
            <label class="mb-md-2"><strong>Nombres:*</strong></label
            ><br />
            <span>{{ formData.mNombreSus }}</span>
          </div>
          <div class="col-md-4 mb-xs-2">
            <label class="mb-md-2"><strong>Ape. Paterno:*</strong></label
            ><br />
            <span>{{ formData.mApelPSus }}</span>
          </div>
          <div class="col-md-4 mb-xs-2">
            <mpf-input
              label="{label: 'Ape. Materno:', required: true}"
              ng-model="formData.mApelMSus"
              name="nApelMSus"
              ng-required="true"
            ></mpf-input>
            <ul class="g-error">
              <li
                ng-show="formData.frmMaintenanceForm.nApelMSus.$error.required && !formData.frmMaintenanceForm.nApelMSus.$pristine"
              >
                * Este campo es obligatorio
              </li>
            </ul>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 mb-xs-2">
            <label class="mb-md-2"><strong>Tipo Documento:*</strong></label
            ><br />
            <span>{{ formData.mTipoDocumentoSus.Codigo }}</span>
          </div>
          <div class="col-md-4 mb-xs-2">
            <ul>
              <mpf-input
                label="{label: 'Nro. Documento:', required: false}"
                name="nNumeroDocumento"
                ng-model="formData.mNumDocSus"
                mpf-validation="onlyNumber"
                ng-required="true"
                ng-maxlength="docNumMaxLength"
                ng-minlength="docNumMaxLength"
              ></mpf-input>
              <div
                class="g-error"
                ng-show="formData.frmMaintenanceForm.nNumeroDocumento.$error.required && !formData.frmMaintenanceForm.nNumeroDocumento.$pristine"
              >
                * Ingrese n√∫mero de documento
              </div>
            </ul>
          </div>
          <div class="col-md-4 mb-xs-2">
            <mpf-input
              label="{label: 'Email:', required: false}"
              ng-model="formData.mEmailSus"
              name="nDescripcion"
              ng-required="true"
            ></mpf-input>
            <ul class="g-error">
              <li
                ng-show="formData.frmMaintenanceForm.nDescripcion.$error.required && !formData.frmMaintenanceForm.nDescripcion.$pristine"
              >
                * Este campo es obligatorio
              </li>
            </ul>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 mb-xs-2">
            <mpf-select
              label="{label: 'Estado', required: true}"
              name="mEstadoSusN"
              ng-model="formData.mEstadoSusN"
              m-Empty-Option="{enterData:false}"
              ng-required="true"
              m-data-source="estadoDataSusN"
            ></mpf-select>
            <ul class="g-error">
              <li ng-show="!formData.mEstadoSusN.Codigo  && !formData.frmMaintenanceForm.mEstadoSusN.$pristine">
                * Este campo es obligatorio
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="row">
          <div class="col-md-6 col-md-offset-3 mt-md-3">
            <a href="" class="g-btn g-btn-verde block" ng-click="saveSuscriptor()">Grabar</a>
          </div>
        </div>
      </div>
    </div>

    <div ng-if="message">
      <div class="row mb-xs-3">
        <div class="col-md-12">
          <p class="text-center mb-xs-0">{{ respuesta }}</p>
        </div>
      </div>
      <div class="row mb-xs-3">
        <div class="col-md-4 col-md-offset-4">
          <a class="g-btn g-btn-verde block" ng-click="closeModal()">Cerrar</a>
        </div>
      </div>
    </div>
  </form>
</section>
