<section class="g-page page-vida-summary-report g-ui-view">

	<page-title info="{title: 'Informe de Resumen'}"></page-title>

	<div class="g-section-inner">
		<div class="container">
			<div class="row">
				<!-- Consulta de documentos -->
				<div class="col-md-3 mb-xs-2">
					<form action="" name="frmDocuments">
						<div show-filter class="clearfix g-col-filter g-box-md fz14 gBgcGray5-md gBgcWhite1 g-myd-box g-myd-box--filter" ng-class="{'show': isFilterVisible}">
							<div class="col-md-12 mb-xs-3 gH4 gCGray1">
								<h2 class="pb-xs-1 g-border-bottom-xs hidden-xs hidden-sm">Opciones de Búsqueda</h2>
								<div id="show-filter" class="row pt-xs-2 pb-xs-2 gBgcGray5 g-border-bottom-xs hidden-md hidden-lg" ng-click="toggleFilter();">
									<div class="col-xs-10">Opciones de Búsqueda</div>
									<div class="col-xs-2 g-text-right-xs">
										<span class="glyphicon glyphicon-chevron-down" ng-if="isFilterVisible"></span>
										<span class="glyphicon glyphicon-chevron-up" ng-if="!isFilterVisible"></span>
									</div>
									<div class="clearfix"></div>
								</div>
							</div>
							<div class="g-col-filter__box">
								<div class="col-md-12 mb-xs-2">
									<!-- <mpf-input label="{label: 'Gestor', required: false}" 
								name="nGestorFilter" ng-model="mainStep.mGestorFilter"></mpf-input> -->
									<mp-data-seeker behavior="{label:'Gestor', placeholder:'Ingrese Gestor', matchField:'descripcion'}" m-data-source="searchGestor($inputNeed)" ng-model="mainStep.mGestorFilter">
										<div ng-bind-html="$item.descripcion | highlight: $select.search"></div>
									</mp-data-seeker>
								</div>
								<div class="col-md-12 mb-xs-2">
									<!-- <mpf-input label="{label: 'Agente', required: false}" 
								name="nAgenteFilter" ng-model="mainStep.mAgenteFilter"></mpf-input> -->
									<mp-data-seeker behavior="{label:'Agente', placeholder:'Ingrese Agente', matchField:'codigoNombre'}" m-data-source="searchAgent($inputNeed)" ng-model="mainStep.mAgenteFilter">
										<div ng-bind-html="$item.codigoNombre | highlight: $select.search"></div>
									</mp-data-seeker>
								</div>
								<div class="col-md-6 mb-xs-2">
									<div class="input-group g-date-picker">
										<label class="g-placeholder animated">Desde<span></span>:</label>
										<input type="text" class="form-control" ng-change="changeDate()" uib-datepicker-popup="{{format}}" ng-model="mainStep.mDesdeFilter" is-open="popupDesdeFilter.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" readonly/>
										<span class="input-group-btn">
											<button type="button" class="btn btn-default" ng-click="openDesdeFilter()"><i class="glyphicon glyphicon-calendar"></i></button>
										</span>
									</div>
								</div>
								<div class="col-md-6 mb-xs-2">
									<div class="input-group g-date-picker">
										<label class="g-placeholder animated">Hasta<span></span>:</label>
										<input type="text" class="form-control" ng-change="changeDate()" uib-datepicker-popup="{{format}}" ng-model="mainStep.mHastaFilter" is-open="popupHastaFilter.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" readonly/>
										<span class="input-group-btn">
											<button type="button" class="btn btn-default" ng-click="openHastaFilter()"><i class="glyphicon glyphicon-calendar"></i></button>
										</span>
									</div>
								</div>
								<div class="col-md-12 mb-xs-2">
									<mpf-input label="{label: 'DNI/RUC', required: false}" name="nDniRucFilter" ng-model="mainStep.mDniRucFilter"></mpf-input>
								</div>
								<div class="col-md-12 mb-xs-1">
									<a href="" class="g-btn g-btn-verde block" ng-click="filter('1')">Filtrar</a>
								</div>
								<div class="col-md-12">
									<a href="" class="g-btn g-btn-white block" ng-click="clearFilter()">Limpiar</a>
								</div>
							</div>	
						</div>
					</form>
				</div>

				
				<!-- <div class="col-md-9 g-text-uppercase" ng-if="!noResult">
					<div class="row">
						<div class="col-md-12">
							<h2 class="g-sub-title g-myd-subtitle">INFORME RESUMEN POR EQUIPO</h2>
						</div>
					</div>
					<div class="clearfix g-box">
						<div class="row g-box-header">
							<ul class="clearfix g-list second-design no-border-left">
								<li class="col-sm-8 clearfix cnt-item">
									<div class="col-sm-2 item-label">
										Agente:
									</div>
									<div class="col-sm-10 item-dato">
										{{itemsEquipment.NombreAgente}}
									</div>
								</li>
								<li class="col-sm-4 clearfix cnt-item">
									<div class="col-md-12">
										<a href="" class="g-btn g-btn-white block btn-download-ico" ng-click="downloadPDFEquipment()"><span class="ico-mapfre_124_download"></span>Descargar</a>
									</div>
								</li>
							</ul>
						</div>
						<div class="row pt-xs-1 pb-xs-1">
							<ul class="clearfix g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										EFECTIVIDAD:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemsEquipment.Efectividad}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										# DE COTIZACIONES PENDIENTES:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemsEquipment.NumeroCotizacionPendiente}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										PN PENDIENES:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemsEquipment.PNPendiente}}
									</div>
								</li>
							</ul>
							<ul class="clearfix g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										# DE COTIZACIONES EMITIDAS:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemsEquipment.NumeroCotizacionEnviada}}
									</div>
								</li>
							</ul>
						</div>
					</div>


					<div class="row">
						<div class="col-md-12">
							<h2 class="g-sub-title g-myd-subtitle mt-xs-1">INFORME RESUMEN POR AGENTE</h2>
						</div>
						<div class="col-sm-4 col-sm-offset-8 mb-xs-2">
							<a href="" class="g-btn g-btn-white block btn-download-ico" ng-click="downloadPDFAgent()"><span class="ico-mapfre_124_download"></span>Descargar</a>
						</div>
					</div>
					<div class="clearfix g-box first-design" ng-repeat="itemA in itemsAgent">
						<div class="clearfix g-box-header">
							<ul class="row g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										NÚMERO DE COTIZACIÓN:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.CodigoCotizacion}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										NUM_PÓLIZA:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.NumeroPoliza}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										ESTADO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.Estado}}
									</div>
								</li>
							</ul>
						</div>
						<div class="clearfix pt-xs-1 pb-xs-1">
							<ul class="row g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										CONTRATANTE:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.NombreContratante}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										SUMA ASEGURADO (PRINCIPAL):
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.SumaAsegurado}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										DÍAS DE VENCIMIENTO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.DiasVencimiento}}
									</div>
								</li>
							</ul>
							<ul class="row g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										ASEGURADO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.NombreAsegurado}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										PRIMA ANUAL:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.PrimaAnual}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										FECHA DE COTIZACIÓN:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.FechaCotizacion}}
									</div>
								</li>
							</ul>
							<ul class="row g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										PRODUCTO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.NombreProducto}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										PLAZO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.Plazo}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										COMISIÓN:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.ComisionPendiente}}
									</div>
								</li>
							</ul>
						</div>
					</div>
				</div> -->
				<div class="col-md-9 g-text-uppercase" ng-repeat="itemEquipment in itemsEquipment" ng-if="!noResult">
					<div class="row">
						<div class="col-md-12">
							<h2 class="g-sub-title g-myd-subtitle">INFORME RESUMEN POR EQUIPO</h2>
						</div>
					</div>
					<div class="clearfix g-box">
						<div class="row g-box-header">
							<ul class="clearfix g-list second-design no-border-left">
								<li class="col-sm-8 clearfix cnt-item">
									<div class="col-sm-2 item-label">
										Agente:
									</div>
									<div class="col-sm-10 item-dato">
										{{itemEquipment.NombreAgente}}
									</div>
								</li>
								<li class="col-sm-4 clearfix cnt-item">
									<div class="col-md-12">
										<a href="" class="g-btn g-btn-white block btn-download-ico" ng-click="downloadPDFEquipment()"><span class="ico-mapfre_124_download"></span>Descargar</a>
									</div>
								</li>
							</ul>
						</div>
						<div class="row pt-xs-1 pb-xs-1">
							<ul class="clearfix g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										EFECTIVIDAD:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemEquipment.Efectividad}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										# DE COTIZACIONES PENDIENTES:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemEquipment.NumeroCotizacionPendiente}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										PN PENDIENES:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemEquipment.PNPendiente}}
									</div>
								</li>
							</ul>
							<ul class="clearfix g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										# DE COTIZACIONES EMITIDAS:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemEquipment.NumeroCotizacionEnviada}}
									</div>
								</li>
							</ul>
						</div>
					</div>


					<div class="row">
						<div class="col-xs-12 col-md-8">
							<h2 class="g-sub-title g-myd-subtitle mt-xs-1">INFORME RESUMEN POR AGENTE</h2>
						</div>
						<div class="col-xs-12 col-md-4 mb-xs-2">
							<a href="" class="g-btn g-btn-white block btn-download-ico" ng-click="downloadPDFAgent()"><span class="ico-mapfre_124_download"></span>Descargar</a>
						</div>
					</div>
					<div class="clearfix g-box first-design" ng-repeat="itemA in itemsAgent">
						<div class="clearfix g-box-header">
							<ul class="row g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										NÚMERO DE COTIZACIÓN:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.CodigoCotizacion}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										NUM_PÓLIZA:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.NumeroPoliza}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										ESTADO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.Estado}}
									</div>
								</li>
							</ul>
						</div>
						<div class="clearfix pt-xs-1 pb-xs-1">
							<ul class="row g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										CONTRATANTE:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.NombreContratante}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										SUMA ASEGURADO (PRINCIPAL):
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.SumaAsegurado}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										DÍAS DE VENCIMIENTO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.DiasVencimiento}}
									</div>
								</li>
							</ul>
							<ul class="row g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										ASEGURADO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.NombreAsegurado}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										PRIMA ANUAL:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.PrimaAnual}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										FECHA DE COTIZACIÓN:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.FechaCotizacion}}
									</div>
								</li>
							</ul>
							<ul class="row g-list second-design">
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										PRODUCTO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.NombreProducto}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										PLAZO:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.Plazo}}
									</div>
								</li>
								<li class="col-md-4 clearfix cnt-item">
									<div class="col-sm-5 item-label">
										COMISIÓN:
									</div>
									<div class="col-sm-7 item-dato">
										{{itemA.ComisionPendiente}}
									</div>
								</li>
							</ul>
						</div>
					</div>
				</div>

				<!-- Mensaje de error si no hay resultados de la busqueda -->
				<div class="col-md-9 g-text-center-xs g-box-noresult" ng-if="noResult">
					<div class="row">
						<div class="col-md-12 g-box-noresult-ico"><span class="ico-mapfre_119_wrong ico-wrong"></span></div>
						<div class="col-md-12 g-box-noresult-text">No hay resultados para los datos ingresados en la busqueda.<br>
						Intente nuevamente</div>
					</div>
				</div>

			</div>

			<!-- PAGINATION -->
			<div class="row" ng-if="!noResult && totalItems > 10">
				<div class="col-md-9 col-md-offset-3">
					<ul uib-pagination class="g-pagination" ng-model="mainStep.mPagination" max-size="10" total-items="totalItems" ng-change="pageChanged(mainStep.mPagination)" boundary-link-numbers="true"></ul>
				</div>
			</div>

		</div>
	</div>

	<form id="frmDownloadPDFSummaryEquipment" name="frmDownloadPDFSummaryEquipment" action="{{mainStep.pdfURLSummaryEquipment}}" method="post" target="_blank">
		<input type="hidden" name="json" value='{{mainStep.pdfSummaryEquipment}}'>
	</form>

	<form id="frmDownloadPDFSummaryAgent" name="frmDownloadPDFSummaryAgent" action="{{mainStep.pdfURLSummaryAgent}}" method="post" target="_blank">
		<input type="hidden" name="json" value='{{mainStep.pdfSummaryAgent}}'>
	</form>

	


</section>