<div class="row">
  <div class="col-md-12">
    <h2 class="g-sub-title g-myd-subtitle">Datos para la suscripción</h2>
  </div>
</div>
<div class="row">
  <div class="col-sm-6 col-md-3 mb-xs-2">
    <mpf-input label="{label: 'Tipo de solicitud',required: true}" name="TipoSolicitud"
      ng-model="$ctrl.emision.modelo.TipoSolicitud" ng-disabled="true" ng-required="true">
    </mpf-input>
  </div>
  <div class="col-sm-6 col-md-3 mb-xs-2">
    <mpf-input label="{label: 'Tipo de cotización',required: true}" name="TipoCotizacion"
      ng-model="$ctrl.emision.modelo.TipoCotizacion" ng-disabled="true" ng-required="true">
    </mpf-input>
  </div>
  <div class="col-sm-6 col-md-3 mb-xs-2">
    <mpf-input label="{label: 'Código Agente',required: true}" name="Agente" ng-blur="$ctrl.getAgente()"
      ng-model="$ctrl.emision.modelo.tramite.CodigoAgente" mpf-validation="onlyNumber" ng-required="true">
    </mpf-input>
    <div class="g-error" ng-show="$ctrl.validControlForm('Agente')">
      {{$ctrl.constantsRrgg.SMS_ERROR.REQUERIDO}}
    </div>
  </div>
  <div class="col-sm-6 col-md-3 mb-xs-2">
    <mpf-input label="{label: 'Nombre Agente',required: true}" name="NombreAgente"
      ng-model="$ctrl.emision.modelo.tramite.ResCotizacion.Agente.Descripcion" mpf-validation="onlyLetterNumCaracteres" ng-required="true" ng-disabled="true">
    </mpf-input>
    <div class="g-error" ng-show="$ctrl.validControlForm('NombreAgente')">
      {{$ctrl.constantsRrgg.SMS_ERROR.REQUERIDO}}
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <h2 class="g-sub-title g-myd-subtitle">Datos del tomador</h2>
  </div>
</div>
<div class="row">
  <div class="col-sm-6 col-md-3 mb-xs-2">
    <mpf-select ng-model="$ctrl.emision.modelo.TipDoc" name="TipDocumento"
      label="{label: 'Tipo de documento', required: true}" m-data-source="$ctrl.tipoDocumento"
      text-field="NombreTipoDocumento" value-field="TipoDocumento" m-Empty-Option="{enterData:true}"
      mpf-validation="required" ng-change="$ctrl.cambioTipoDocumento($ctrl.emision.modelo)" ng-required="true">
    </mpf-select>
    <div class="g-error" ng-show="$ctrl.validControlForm('TipDocumento')">
      {{$ctrl.constantsRrgg.SMS_ERROR.REQUERIDO}}
    </div>
  </div>
  <div class="col-sm-6 col-md-3 mb-xs-2">
    <mpf-input label="{label: 'Número de documento',required: true}" name="NumeroDoc"
      ng-model="$ctrl.emision.modelo.NumeroDoc" ng-disabled="inputDisabled == true" ng-required="true"
      mpf-validation="onlyNumber" ng-minlength="$ctrl.emision.modelo.minNumeroDoc"
      ng-maxlength="$ctrl.emision.modelo.maxNumeroDoc">
    </mpf-input>
    <div class="g-error" ng-show="$ctrl.validControlForm('NumeroDoc')">
      {{$ctrl.constantsRrgg.SMS_ERROR.REQUERIDO}}
    </div>
  </div>
  <div class="col-sm-6 col-md-3 mb-xs-2">
    <mpf-input label="{label: 'Nombres',required: true}" name="nombres" ng-model="$ctrl.emision.modelo.Nombres"
      ng-disabled="inputDisabled == true" mpf-validation="onlyLetterNumCaracteres" ng-required="true">
    </mpf-input>
    <div class="g-error" ng-show="$ctrl.validControlForm('nombres')">
      {{$ctrl.constantsRrgg.SMS_ERROR.REQUERIDO}}
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <h2 class="g-sub-title g-myd-subtitle">Otros Datos</h2>
  </div>
</div>
<div class="row  mb-xs-3 mb-md-4">
  <div class="col-sm-6 col-md-3 mb-xs-2">
    <mpf-select ng-model="$ctrl.emision.modelo.Moneda" name="moneda" label="{label: 'Moneda',required: true}"
      m-data-source="$ctrl.monedas" text-field="Descripcion" value-field="Codigo" m-Empty-Option="{enterData:true}"
      mpf-validation="required" ng-required="true">
    </mpf-select>
    <div class="g-error" ng-show="$ctrl.validControlForm('moneda')">
      {{$ctrl.constantsRrgg.SMS_ERROR.REQUERIDO}}
    </div>
  </div>
  <div class="col-sm-6 col-md-3 mb-xs-2">
    <mpf-select ng-model="$ctrl.emision.modelo.Fraccionamiento" name="fraccionamiento"
      label="{label: 'Fraccionamiento',required: true}" m-data-source="$ctrl.fraccionamiento" text-field="Descripcion"
      value-field="Codigo" m-Empty-Option="{enterData:true}" mpf-validation="required" ng-required="true">
    </mpf-select>
    <div class="g-error" ng-show="$ctrl.validControlForm('fraccionamiento')">
      {{$ctrl.constantsRrgg.SMS_ERROR.REQUERIDO}}
    </div>
  </div>
</div>
<div class="row mb-xs-3 mb-md-3">
  <div class="col-xs-12">
    <div class="g-box--double">
      <div class="g-box-top gBgcGray5 pt-xs-1 pl-xs-1  g-box--mb">
        <div class="row">
          <div class="col-sm-4 col-md-3 mb-xs-2 mb-md-0">
            <p><b>Grupo</b></p>
          </div>
          <div class="col-sm-4 col-md-3 mb-xs-2 mb-md-0">
            <p><b>Número de documentos</b></p>
          </div>
          <div class="col-sm-4 col-md-3 mb-xs-2 mb-md-0">
            <p><b>Comentarios</b></p>
          </div>
        </div>
      </div>
      <div class="pt-xs-1 pb-xs-0 pl-xs-1 ">
        <div ng-repeat="item in $ctrl.emision.modelo.documentacion track by $index" class="row">
          <div class="col-sm-4 col-md-3 mb-xs-2 mb-sm-0">
            <p>{{item.Grupo}}</p>
          </div>
          <div class="col-sm-4 col-md-3 mb-xs-2 mb-sm-0 g-box--delete">
            <div class="g-btn-verde rg-btn-plus"  rrgg-suscriptor-openmodaldocumentos ng-click="$ctrl.OpenModal(true,$index)">
              <span class="g-icon">
                <span class="icon icon-plus ico-mapfre_56_visitasalmedico"></span>
              </span>
            </div>
            <div class="g-box--delete">
              <span class="mr-xs-0-5">
                {{item.documentos.length + item.CantidadDoc || item.CantidadDoc}} documentos
              </span>
            </div>
          </div>
          <div class="col-sm-4 col-md-3 mb-xs-2 mb-sm-0 g-box--delete">
            <div class="g-btn-verde rg-btn-plus" rrgg-suscriptor-openmodalcomentario ng-click="$ctrl.OpenModal(false,$index)">
              <span class="g-icon">
                <span class="icon icon-plus ico-mapfre_56_visitasalmedico"></span>
              </span>
            </div>
            <div class="g-box--delete">
              <span ng-if="item.comentarios" class="mr-xs-0-5 g-ellipsis-lg g-ellipsis-xs g-text-uppercase">
                {{item.comentarios}}
              </span>
              <span ng-if="!item.comentarios" class="text-help">*Ingresa un comentario</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-xs-12 g-box--delete mb-xs-2">
    <mpf-Checkbox ng-model="$ctrl.emision.modelo.checkEmail" ng-disabled="true"
      label="Deseo notificación via email cuando el trámite me sea asignado">
    </mpf-Checkbox>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div class="col-sm-3 col-md-3 mb-xs-2">
        <mpf-input class="g-transform-none" label="{label: 'Correo electrónico', required: false}" name="email"
          ng-model="$ctrl.emision.modelo.email" ng-required="false" data-mpf-validation="email" ng-maxlength="50"
          ng-minlength="2">
        </mpf-input>
        <div class="g-error" ng-show="$ctrl.form.email.$invalid && !$ctrl.form.email.$pristine">
          {{$ctrl.constantsRrgg.SMS_ERROR.EMAIL}}
        </div>
      </div>
      <div class="col-sm-3 col-md-3 mb-xs-2">
        <div class="g-btn-verde rg-btn-plus rg-btn-margin" ng-click="$ctrl.addCorreo()">
          <span class="g-icon">
            <span class="icon icon-plus ico-mapfre_56_visitasalmedico"></span>
          </span>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div class="rg-btn-margin">
        <span class="rg-btn-chips" ng-repeat="item in $ctrl.emision.modelo.emails track by $index">
          {{item.email}}
          <span rrgg-suscriptor-deletecorreo ng-click=" $ctrl.deleteCorreo($index)" class="ico-mapfre_231_cancelaroff rg-chips--delete"></span>
        </span>
      </div>
    </div>
  </div>
