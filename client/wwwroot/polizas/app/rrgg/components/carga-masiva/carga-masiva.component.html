<section ng-repeat="item in $ctrl.emision.listaPlanillas"
  ng-if="$ctrl.tramite.Grupo === $ctrl.constantsRrgg.GRUPO.TRAB_ESPECIFICOS || $ctrl.tramite.Grupo === $ctrl.constantsRrgg.GRUPO.VIGLIMP ">
  <div ng-if="item.optionRadio === $ctrl.constantsRrgg.RADIO.SI">
    <div class="row">
      <div class="col-md-6">
        <h2 class="g-sub-title g-myd-subtitle pb-xs-0">{{item.name}}</h2>
      </div>
      <div class="col-md-6">
        <a ng-href="{{item.nameDownload}}" class="page-rrgg__link fwMedium">
          <span class="ico-mapfre_139_excel page-rrgg__link-icon"></span> <span class="g-link">DESCARGAR
            FORMATO DE PLANILLA</span></a>
      </div>
    </div>
    <div class="row mb-xs-3 mb-md-5">
      <div class="col-sm-6 col-md-3 mb-xs-2 mb-md-0">
        <p class="fwMedium">{{item.labelOption}}</p>
      </div>
    </div>
    <div class="row no-margin-xs">
      <div class="col-xs-12">
        <div class="container">
          <div class="g-tap-mobile g-section g-section-tabs pt-xs-0">
            <uib-tabset active="riesgo.tipo" justified="true" class="tabs__wrapper">
              <!-- TAB1 -->
              <uib-tab index="0" deselect="$ctrl.cambiarTipoRegistro($selectedIndex,item)">
                <uib-tab-heading>CARGA MASIVA</uib-tab-heading>
                <div class="container">
                  <div class="row">
                    <div class="col-md-4">
                      <div class="row">
                        <div class="col-xs-12" ng-if="!item.listExcel">
                          <div class="clearfix g-box fz14 gBgcGray5 pt-xs-2 pb-xs-2">
                            <div class="col-md-12 mb-xs-1 text-center">
                              <span>Planilla en Excel</span>
                            </div>
                            <div class="col-md-10 col-md-offset-1">
                              <label class="g-btn g-btn-white second-design block g-btn-input-file">
                                <span class="g-icon">
                                  <span class="icon icon-plus ico-mapfre_56_visitasalmedico"></span>
                                  <span>Escoger archivo</span>
                                </span>
                                <input type="file" data-show-preview="false" id="file-upload{{index}}"
                                  name="file-upload{{index}}" file-model="item.listExcel" ng-model="item.listExcel"
                                  accept=".xls,.xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel"
                                  ng-required="false" onclick="angular.element(this)[0].value=null;">
                              </label>
                              <ul class="g-error g-text-left-xs">
                                <li ng-show="$ctrl.replacePayroll.errorAttachFile">*
                                  Este campo es obligatorio</li>
                              </ul>
                            </div>
                          </div>
                        </div>
                        <div class="col-xs-12" ng-if="item.listExcel">
                          <div class="clearfix g-box fz14 gBgcGray5 pt-xs-2 pb-xs-2">
                            <div class="col-md-12 mb-xs-1 text-center">
                              <b>{{item.listExcel[0].name}}</b>
                            </div>
                            <div class="col-md-12 mb-xs-1 text-center">
                              Planilla cargada exitosamente
                            </div>
                            <div class="col-md-10 col-md-offset-1">
                              <label class="g-btn-input-file">
                                <span class="g-icon gCGreen1">
                                  <span class="icon ico-mapfre_311_arrowRight"></span>
                                  <span class="g-link"><b>Volver a cargar documento</b></span>
                                </span>
                                <input type="file" data-show-preview="false" id="file-upload{{index}}"
                                  name="file-upload{{index}}" file-model="item.listExcel" ng-model="item.listExcel"
                                  accept=".xls,.xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel"
                                  ng-required="false" onclick="angular.element(this)[0].value=null;">
                              </label>
                              <ul class="g-error g-text-left-xs">
                                <li ng-show="$ctrl.replacePayroll.errorAttachFile">*
                                  Este campo es obligatorio</li>
                              </ul>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <a ng-click="$ctrl.cargarTrabajadoresMasivo(item)" class="g-btn block">APLICAR</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row" ng-if="item.listaTrabajador.length > 0">
                    <trabajadores ng-if="item.typefile === 1" trabajadores="item.listaTrabajador" type="0"
                      form="$ctrl.form"></trabajadores>
                  </div>
                  <div class="row" ng-if="item.listaUbicaciones.length > 0"><br>
                    <locales ng-if="item.typefile === 2" data="item" validate="false" form="$ctrl.form">
                    </locales>
                  </div>
                </div>
              </uib-tab>
              <!-- TAB2 -->
              <uib-tab index="1" deselect="$ctrl.cambiarTipoRegistro($selectedIndex,item)">
                <uib-tab-heading>CARGA INDIVIDUAL</uib-tab-heading>
                <div class="container">
                  <div class="row">
                    <div class="col-xs-12">
                      <div class="row" ng-if="item.listaTrabajador.length > 0">
                        <trabajadores ng-if="item.typefile === 1" trabajadores="item.listaTrabajador" type="0"
                          form="$ctrl.form"></trabajadores>
                      </div>
                      <div class="row" ng-if="item.listaUbicaciones.length > 0"><br>
                        <locales ng-if="item.typefile === 2" data="item" validate="false" form="$ctrl.form">
                        </locales>
                      </div>
                    </div>
                    <div class="col-md-3 col-md-offset-9">
                      <a class="g-btn g-btn-white second-design block" ng-click="$ctrl.addItem(item)"
                        href="javascript:void(0)">
                        <span class="g-icon">
                          <span class="icon icon-plus ico-mapfre_56_visitasalmedico"></span>
                          <span>{{item.labelAdd}}</span>
                        </span>
                      </a>
                    </div>
                  </div>
                </div>
              </uib-tab>
            </uib-tabset>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>