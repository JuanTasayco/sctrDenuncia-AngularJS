<div
	class="gnSecToggle gnSecResultsFixed gBgcGray5"
	ng-class="{'show': ($ctrl.selectedPolicies.length > 0), 'responsive': $ctrl.openTogglePolicies}"
	add-class="{class:'g-overflow-hidden-sm', destination: 'body', condition: $ctrl.openTogglePolicies}">

	<uib-accordion close-others="true">
		<div
			uib-accordion-group
			is-open="$ctrl.openTogglePolicies">
			<uib-accordion-heading>
				<div class="secHeader">
					<div class="container">

						<div class="row g-row g-list-md">
							<div class="col-md-11 col-xs-9 g-col-xs middle">
								<div
									ng-if="$ctrl.openTogglePolicies"
									class="mb-xs-1">
									<h2 class="gH4 g-text-uppercase mb-xs-1">
										<b>PÓLIZAS SELECCIONADAS</b>
									</h2>
									Selecciona máximo {{($ctrl.IS_MODULE.lifeLaw) ? ' 1 póliza con la ' : ' 2 pólizas con las '}} que quieras trabajar
								</div>
								<div ng-if="$ctrl.openTogglePolicies == false">
									<div
										class="row"
										ng-repeat="item in $ctrl.selectedPolicies">
										<div class="col-md-4 clearfix cnt-item">
											<div class="col-xs-5 item-label">
												<span class="ico-mapfre_82_circle ico-bullet"></span>
												{{($ctrl.IS_MODULE.lifeLaw) ? 'Vida Ley' : 'Póliza Pensión'}}:
											</div>
											<div class="col-xs-7 item-dato g-text-uppercase">
												{{item.pensionPolicyNumber}}
											</div>
										</div>
										<div
											ng-if="$ctrl.IS_MODULE.lifeLaw == false"
											class="col-md-4 clearfix cnt-item">
											<div class="col-xs-5 item-label">
												<span class="ico-mapfre_82_circle ico-bullet"></span>
												Póliza Salud:
											</div>
											<div class="col-xs-7 item-dato g-text-uppercase">
												{{item.healthPolicyNumber}}
											</div>
										</div>
										<div class="col-md-4 clearfix cnt-item">
											<div class="col-xs-5 item-label">
												<span class="ico-mapfre_82_circle ico-bullet"></span>
												Fin Vigencia:
											</div>
											<div class="col-xs-7 item-dato g-text-uppercase">
												{{item.policyDateEnd}}
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-md-1 col-xs-3 g-col-xs middle cnt-item no-border-left g-text-center-md g-text-right-xs">
								<a href="javascript:void(0)" class="ico-mapfre_309_arrowUp icoToggle"></a>
							</div>
						</div>

					</div>
				</div>
			</uib-accordion-heading>
			<div class="pt-xs-1 pb-xs-1-5 h-myd-bg--gray4">
				<div class="container">
					<div class="row g-row-fz12">
						<div class="col-md-9 g-col-md middle">
							<div
								class="clearfix g-box gBgcWhite1 pt-xs-1 g-row g-list-sm"
								ng-class="{'mb-xs-1': !$last}"
								ng-repeat="item in $ctrl.selectedPolicies"
								ng-init="$ctrl.fnInitCheckPolicies(item)">
								<div class="col-sm-11 col-xs-10 g-col-xs middle">
									<ul class="row">
										<li
											class="col-sm-4 clearfix cnt-item"
											ng-class="(item.pensionPolicyNumber && item.healthPolicyNumber) ? 'pl-xs-2-5' : ''">
											<div
												class="checkPolicy"
												ng-if="item.pensionPolicyNumber && item.healthPolicyNumber">
												<label class="g-checkbox" ng-class="{active : item.mCheckPension}">
													<span class="ico-checkbox"></span>
													<input
														type="checkbox"
														name="nCheckPension"
														ng-model="item.mCheckPension"
														ng-click="$ctrl.fnCheckPolicy(item)">
													<span class="checkbox-label"></span>
												</label>
											</div>
											<div class="col-sm-5 item-label">
												<span
													ng-show="!item.pensionPolicyNumber || !item.healthPolicyNumber"
													class="ico-mapfre_82_circle ico-bullet">
												</span>
												{{($ctrl.IS_MODULE.lifeLaw) ? 'Vida Ley' : 'Póliza Pensión'}}:
											</div>
											<div class="col-sm-7 item-dato">
												{{item.pensionPolicyNumber}}
											</div>
										</li>
										<li
											ng-if="$ctrl.IS_MODULE.lifeLaw == false"
											class="col-sm-4 clearfix cnt-item"
											ng-class="(item.healthPolicyNumber && item.pensionPolicyNumber) ? 'pl-xs-2-5' : ''">
											<div
												class="checkPolicy"
												ng-if="item.healthPolicyNumber && item.pensionPolicyNumber">
												<label class="g-checkbox" ng-class="{active : item.mCheckHealth}">
													<span class="ico-checkbox"></span>
													<input
														type="checkbox"
														name="nCheckHealth"
														ng-model="item.mCheckHealth"
														ng-click="$ctrl.fnCheckPolicy(item)">
													<span class="checkbox-label"></span>
												</label>
											</div>
											<div class="col-sm-5 item-label">
												<span
													ng-show="!item.healthPolicyNumber || !item.pensionPolicyNumber"
													class="ico-mapfre_82_circle ico-bullet">
												</span>
												Póliza Salud:
											</div>
											<div class="col-sm-7 item-dato">
												{{item.healthPolicyNumber}}
											</div>
										</li>
										<li class="col-sm-4 clearfix cnt-item">
											<div class="col-sm-5 item-label">
												<span class="ico-mapfre_82_circle ico-bullet"></span>
												Fin Vigencia:
											</div>
											<div class="col-sm-7 item-dato">
												{{item.policyDateEnd}}
											</div>
										</li>
									</ul>
								</div>
								<div class="col-sm-1 col-xs-2 g-col-xs middle cnt-item gCGray3 g-text-center-xs">
									<a
										href="javascript:void(0)"
										ng-click="$ctrl.fnRemoveSelectedPolicies(item)">
										<span class="gnIcon-xsm ico-mapfre_307_tacho h-myd--none"></span>
										<span class="gnIcon-xsm ico-mapfre-363-myd-eliminar h-myd--show h-oim-none h-myd-color--green"></span>
									</a>
								</div>
							</div>
						</div>
						<div class="col-md-3 g-col-md middle pt-xs-2 no-pt-md g-border-left-md h-myd-border--none">
							<ul class="row">
								<li class="col-md-12 col-sm-6 col-ms-6 col-md-offset-0 col-sm-offset-3 col-ms-offset-3">
									<a
										href="javascript:void(0)"
										class="g-btn g-btn-verde second-design block"
										ng-click="$ctrl.fnShowModalManualProof(item, $event)"
										ng-if="$ctrl.segurityConstanciaManual">
										Constancia manual
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</uib-accordion>
</div>

<div
	class="gnSecToggle gnSecResultsFixed gBgcGray5"
	ng-class="{'show': ($ctrl.selectedApplications.length > 0), 'responsive': $ctrl.openToggleApplications}"
	add-class="{class:'g-overflow-hidden-sm', destination: 'body', condition: $ctrl.openToggleApplications}">
	<uib-accordion close-others="true">
		<div
			uib-accordion-group
			is-open="$ctrl.openToggleApplications">
			<uib-accordion-heading>
				<div class="secHeader">
					<div class="container">

						<div class="row g-row g-list-md">
							<div class="col-md-11 col-xs-9 g-col-xs middle">
								<div
									ng-if="$ctrl.openToggleApplications"
									class="mb-xs-1">
									<h2 class="gH4 g-text-uppercase mb-xs-1">
										<b>APLICACIONES SELECCIONADAS</b>
									</h2>
									Selecciona máximo {{($ctrl.IS_MODULE.lifeLaw) ? ' 1 aplicación con la ' : ' 2 aplicaciones con las '}} que quieras trabajar
								</div>
								<div ng-if="$ctrl.openToggleApplications == false">
									<div
										class="row"
										ng-repeat="item in $ctrl.selectedApplications">
										<div class="col-md-4 clearfix cnt-item">
											<div class="col-xs-5 item-label">
												<span class="ico-mapfre_82_circle ico-bullet"></span>
												{{($ctrl.IS_MODULE.lifeLaw) ? 'Vida Ley:' : (item.applicationType == 'P') ? 'Póliza Pensión:' :  'Póliza Salud:'}}
											</div>
											<div class="col-xs-7 item-dato g-text-uppercase">
												{{item.policyNumber}}
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-md-1 col-xs-3 g-col-xs middle cnt-item no-border-left g-text-center-md g-text-right-xs">
								<a href="javascript:void(0)" class="ico-mapfre_309_arrowUp icoToggle"></a>
							</div>
						</div>

					</div>
				</div>
			</uib-accordion-heading>
			<div class="pt-xs-1 pb-xs-1-5">
				<div class="container">
					<div class="row g-row">
						<div class="col-md-10 g-col-md middle">
							<div
								class="clearfix g-box gBgcWhite1 pt-xs-1 g-row g-list-sm"
								ng-class="{'mb-xs-1': !$last}"
								ng-repeat="item in $ctrl.selectedApplications">
								<div class="col-sm-11 col-xs-10 g-col-xs middle">
									<ul class="row g-row">
										<li class="col-sm-4 clearfix cnt-item g-col-sm middle">
											<b>{{($ctrl.IS_MODULE.lifeLaw) ? 'VIDA LEY' : (item.applicationType == 'P') ? 'PENSIÓN' :  'SALUD'}}</b>
											<div><b>Desde:</b> {{item.policyDateStart}} <b>- Hasta:</b> {{item.policyDateEnd}}</div>
										</li>
										<li class="col-sm-4 clearfix cnt-item g-text-center-md g-col-sm middle">
											<span
												class="g-box-label"
												ng-class="$ctrl.fnGetClassApplicationState(item.state)">
												{{item.state | uppercase}}
											</span>
										</li>
										<li class="col-sm-4 clearfix cnt-item g-col-sm middle">
											<b>{{($ctrl.IS_MODULE.lifeLaw) ? 'Vida Ley: ' : (item.applicationType == 'P') ? 'Póliza Pensión: ' :  'Póliza Salud: '}}</b>{{item.policyNumber}}
										</li>
									</ul>
								</div>
								<div class="col-sm-1 col-xs-2 g-col-xs middle cnt-item gCGray3 g-text-center-xs">
									<a
										href="javascript:void(0)"
										ng-click="$ctrl.fnRemoveSelectedApplications(item)">
										<span class="gnIcon-xsm ico-mapfre_307_tacho h-myd--none"></span>
										<span class="gnIcon-xsm ico-mapfre-363-myd-eliminar h-myd--show h-oim-none h-myd-color--green"></span>
									</a>
								</div>
							</div>
						</div>
						<div class="col-md-2 g-col-md middle pt-xs-2 no-pt-md g-border-left-md">
							<ul class="row">
								<li class="col-md-12 col-sm-6 col-ms-6"
									ng-class="{'mb-xs-1' : !$last}"
									ng-repeat="item in $ctrl.applicationActionButtons">
									<a
										href="javascript:void(0)"
										class="g-btn g-btn-verde second-design block"
										ng-click="$ctrl.fnActionButtonGo(item.actionButton)"
										ng-if="$ctrl.fnActionSegurity(item)">
										{{ item.description }}
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</uib-accordion>
</div>

<script type="text/ng-template" id="tplFirstAlert.html">
	<div class="container">
		<div class="row" ng-class="{'mb-xs-1' : !$last}" ng-repeat="errorList in validateApplication.errorList">

			<div class="col-md-12" ng-if="errorList.errorReceiptPendingPaymentList.length > 0 || errorList.errorApplicationPendingList.length > 0">
				<div class="clearfix g-box g-overflow-hidden-xs">

					<ul class="clearfix g-list-sm gBgcGray5 pt-xs-1 mb-xs-0-1">
						<li class="col-md-12 clearfix cnt-item">
							<div class="row">
								<div class="col-md-12 item-label">
									{{($ctrl.IS_MODULE.lifeLaw) ? 'Vida Ley:' : (errorList.policyType == 'P') ? 'Póliza Pensión:' :  'Póliza Salud:'}}
								</div>
							</div>
						</li>
					</ul>

					<div class="col-md-12 cnt-content gBgcWhite1 g-list-sm gnContentAuto-ms">

						<ul class="row g-list gBgcGray5 pt-xs-1 mb-xs-1 hidden-xs" ng-if="errorList.errorReceiptPendingPaymentList.length > 0">
							<li class="col-sm-3 clearfix cnt-item">
								<b>Nro. Poliza</b>
							</li>
							<li class="col-sm-3 clearfix cnt-item">
								<b>Nro. Recibo</b>
							</li>
							<li class="col-sm-3 clearfix cnt-item g-text-right-sm">
								<b>Monto</b>
							</li>
							<li class="col-sm-3 clearfix cnt-item g-text-right-sm">
								<b>Vencimiento</b>
							</li>
						</ul>

						<div class="clearfix mt-xs-1" ng-class="{'g-border-bottom-xs' : !$last}" ng-repeat="itemError in errorList.errorReceiptPendingPaymentList">

							<ul class="row hidden-xs">
								<li class="col-sm-3 cnt-item item-dato g-text-uppercase">
									{{itemError.policyNumber}}
								</li>
								<li class="col-sm-3 cnt-item item-dato g-text-uppercase">
									{{itemError.receiptNumber}}
								</li>
								<li class="col-sm-3 cnt-item item-dato g-text-uppercase g-text-right-sm">
									{{itemError.receiptAmount | currency: mainNsctr.CURRENCY_SOLES}}
								</li>
								<li class="col-sm-3 cnt-item item-dato g-text-uppercase g-text-right-xs">
									{{itemError.dateFinishReceipt}}
								</li>
							</ul>

							<ul class="row visible-xs">
								<li class="cnt-item clearfix">
									<div class="col-ms-5 item-label">Nro. Poliza:</div>
									<div class="col-ms-7 item-dato g-text-uppercase">{{itemError.policyNumber}}</div>
								</li>
								<li class="cnt-item clearfix">
									<div class="col-ms-5 item-label">Nro. Recibo:</div>
									<div class="col-ms-7 item-dato g-text-uppercase">{{itemError.receiptNumber}}</div>
								</li>
								<li class="cnt-item clearfix">
									<div class="col-ms-5 item-label">Monto:</div>
									<div class="col-ms-7 item-dato g-text-uppercase">{{itemError.receiptAmount | currency: mainNsctr.CURRENCY_SOLES}}</div>
								</li>
								<li class="cnt-item clearfix">
									<div class="col-ms-5 item-label">Vencimiento:</div>
									<div class="col-ms-7 item-dato g-text-uppercase">{{itemError.dateFinishReceipt}}</div>
								</li>
							</ul>

						</div>


						<ul class="row g-list gBgcGray5 pt-xs-1 mb-xs-1 hidden-xs" ng-if="errorList.errorApplicationPendingList.length > 0">
							<li class="col-sm-6 clearfix cnt-item">
								<b>Descripción</b>
							</li>
							<li class="col-sm-6 clearfix cnt-item">
								<b>Nro. Aplicación</b>
							</li>
						</ul>


						<div class="clearfix" ng-class="{'g-border-bottom-xs mb-xs-1' : !$last}" ng-repeat="itemError in errorList.errorApplicationPendingList">

							<ul class="row hidden-xs">
								<li class="col-sm-6 cnt-item item-dato g-text-uppercase">
									{{itemError.message}}
								</li>
								<li class="col-sm-6 cnt-item item-dato g-text-uppercase">
									{{itemError.applicationsNumber}}
								</li>
							</ul>

							<ul class="row visible-xs">
								<li class="cnt-item clearfix">
									<div class="col-ms-5 item-label">Descripción:</div>
									<div class="col-ms-7 item-dato g-text-uppercase">{{itemError.message}}</div>
								</li>
								<li class="cnt-item clearfix">
									<div class="col-ms-5 item-label">Nro. Aplicación:</div>
									<div class="col-ms-7 item-dato g-text-uppercase">{{itemError.applicationsNumber}}</div>
								</li>
							</ul>

						</div>


					</div>

				</div>
			</div>

		</div>
	</div>
</script>

<script type="text/ng-template" id="tplSecondtAlert.html">
	<div class="container">
		<div class="row" ng-class="{'mb-xs-1' : !$last}" ng-repeat="errorList in validateApplication.errorList">

			<div class="col-md-12" ng-if="errorList.observationList.length > 0">
				<div class="clearfix g-box g-overflow-hidden-xs">

					<ul class="clearfix g-list-sm gBgcGray5 pt-xs-1 mb-xs-0-1">
						<li class="col-md-12 clearfix cnt-item">
							<div class="row">
								<div class="col-md-12 item-label">
									{{($ctrl.IS_MODULE.lifeLaw) ? 'Vida Ley:' : (errorList.policyType == 'P') ? 'Póliza Pensión:' :  'Póliza Salud:'}}
								</div>
							</div>
						</li>
					</ul>

					<div class="col-md-12 cnt-content gBgcWhite1 g-list-sm gnContentAuto-ms">

						<ul class="row g-list gBgcGray5 pt-xs-1 mb-xs-1 hidden-xs">
							<li class="col-sm-3 clearfix cnt-item">
								<b>Nro. Fila</b>
							</li>
							<li class="col-sm-3 clearfix cnt-item">
								<b>Descripción</b>
							</li>
						</ul>

						<div class="clearfix mt-xs-1" ng-class="{'g-border-bottom-xs' : !$last}" ng-repeat="itemError in errorList.observationList">

							<ul class="row hidden-xs">
								<li class="col-sm-3 cnt-item item-dato g-text-uppercase">
									{{$index + 1}}
								</li>
								<li class="col-sm-3 cnt-item item-dato g-text-uppercase">
									{{itemError.message}}
								</li>
							</ul>

							<ul class="row visible-xs">
								<li class="cnt-item clearfix">
									<div class="col-ms-5 item-label">Nro. Fila:</div>
									<div class="col-ms-7 item-dato g-text-uppercase">{{$index + 1}}</div>
								</li>
								<li class="cnt-item clearfix">
									<div class="col-ms-5 item-label">Descripción:</div>
									<div class="col-ms-7 item-dato g-text-uppercase">{{itemError.message}}</div>
								</li>
							</ul>

						</div>

					</div>

				</div>
			</div>

		</div>
	</div>
</script>

<script type="text/ng-template" id="tplThirdAlert.html">
	<div class="container">

		<div class="row" ng-class="(!$last && errorList.totalItems > 10) ? 'mb-xs-1' : (errorList.totalItems <= 10) ? 'mb-xs-2' : ''" ng-repeat="errorList in validateApplication.errorList">

			<div class="col-md-12 clearfix" ng-if="(errorList.policyType == 'P') ? errorList.insuredPendingPension.length > 0 : errorList.insuredPendingHealth.length > 0">

				<div class="clearfix g-tbl-wrapper">
					<div class="clearfix table__860">

						<ul class="clearfix g-list-sm gBgcGray5 pt-xs-1 mb-xs-0-1">
							<li class="col-md-12 clearfix cnt-item">
								<div class="row">
									<div class="col-md-12 g-col-5pd item-label">
										{{(errorList.policyType == 'P') ? 'Trabajadores de pensión no considerados en la póliza de salud: ' +  errorList.policyNumber : 'Trabajadores de salud no considerados en la póliza de pensión: ' + errorList.policyNumber}}
									</div>
								</div>
							</li>
						</ul>

						<ul height-row class="g-row-fz12 g-tbl-row gBgcGray5 pt-xs-1">
							<li class="g-col-5pd g-col-xs col-7-dktp tbl-item item-label g-text-uppercase">
								Tipo <br>Doc
							</li>
							<li class="g-col-5pd g-col-xs col-13-dktp tbl-item item-label g-text-uppercase">
								Nro. <br>Documento
							</li>
							<li class="g-col-5pd g-col-xs col-14-dktp tbl-item item-label g-text-uppercase">
								Ape. <br>Paterno
							</li>
							<li class="g-col-5pd g-col-xs col-14-dktp tbl-item item-label g-text-uppercase">
								Ape. <br>Materno
							</li>
							<li class="g-col-5pd g-col-xs col-14-dktp tbl-item item-label g-text-uppercase">
								Nombre
							</li>
							<li class="g-col-5pd g-col-xs col-16-dktp tbl-item item-label g-text-uppercase">
								Nombre <br>Completo
							</li>
							<li class="g-col-5pd g-col-xs col-11-dktp tbl-item item-label g-text-uppercase">
								Fecha <br>Nacimiento
							</li>
							<li class="g-col-5pd g-col-xs col-11-dktp tbl-item item-label g-text-uppercase g-text-right-xs">
								Sueldo
							</li>
						</ul>

						<div class="gnContentAuto-sm">
							<ul height-row class="g-row-fz12 g-tbl-row pt-xs-1 g-border-bottom-xs" ng-repeat="itemError in (errorList.policyType == 'P') ? errorList.pageInsuredPendingPension : errorList.pageInsuredPendingHealth">
								<li class="g-col-5pd g-col-xs col-7-dktp tbl-item item-dato">
									{{itemError.documentType}}
								</li>
								<li class="g-col-5pd g-col-xs col-13-dktp tbl-item item-dato">
									{{itemError.documentNumber}}
								</li>
								<li class="g-col-5pd g-col-xs col-14-dktp tbl-item item-dato g-cut-text" title="{{itemError.fathersSurname}}">
									{{itemError.fathersSurname}}
								</li>
								<li class="g-col-5pd g-col-xs col-14-dktp tbl-item item-dato g-cut-text" title="{{itemError.mothersSurname}}">
									{{itemError.mothersSurname}}
								</li>
								<li class="g-col-5pd g-col-xs col-14-dktp tbl-item item-dato g-cut-text" title="{{itemError.name}}">
									{{itemError.name}}
								</li>
								<li class="g-col-5pd g-col-xs col-16-dktp tbl-item item-dato g-cut-text" title="{{itemError.fullName}}">
									{{itemError.fullName}}
								</li>
								<li class="g-col-5pd g-col-xs col-11-dktp tbl-item item-dato">
									{{itemError.birthDate}}
								</li>
								<li class="g-col-5pd g-col-xs col-11-dktp tbl-item item-dato g-text-right-xs">
									{{itemError.salary | currency: mainNsctr.CURRENCY_SOLES}}
								</li>
							</ul>
						</div>

					</div> <!-- clearfix g-tbl-wrapper -->
				</div> <!-- clearfix table__1000 -->

				<!-- PAGINATION -->
				<div class="col-md-10 col-md-offset-1" ng-if="errorList.totalItems > 10">
					<ul
						uib-pagination
						class="g-pagination"
						ng-model="errorList.mPagination"
						max-size="errorList.quantityRows"
						total-items="errorList.totalItems"
						ng-change="validationAlert.fnChangePage(errorList.mPagination, errorList)"
						boundary-link-numbers="true">
					</ul>
				</div>
				<!-- PAGINATION -->

			</div>

		</div>
	</div>
</script>