<section class="pageMaintenanceTypes">

  <div class="g-title">
    <div class="container">
      <div class="row g-row">
        <div class="col-md-9 g-col-md middle col-sm-11 col-xs-10">
          <h1>{{$ctrl.data.title}}</h1>
        </div>
        <div class="col-md-3 g-col-md middle col-sm-4 col-xs-12 mt-xs-2 no-mt-md" ng-if="$ctrl.segurityAdd || $ctrl.segurityAddMedic">
          <a
            class="g-btn g-btn-white second-design block"
            ng-click="$ctrl.fnShowModalAddUpdate('A')">
            {{$ctrl.data.textAddButton}}
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="g-section-inner">

    <form
      action=""
      name="frmMaintenance">
      <div class="container">

        <div
          show-filter
          class="clearfix g-col-filter g-box-md gBgcGray5-md gBgcWhite1 mb-md-3"
          ng-class="{'show': isFilterVisible}"
          ng-if="$ctrl.seguritySearch">
          <div class="col-md-12">

            <div class="clearfix gH4 gCGray1 mb-xs-1-5">
              <h2 class="hidden-xs hidden-sm"><b>Buscar</b></h2>
              <div
                id="show-filter"
                class="row pt-xs-2 pb-xs-2 gBgcGray5 g-border-bottom-xs hidden-md hidden-lg"
                ng-click="toggleFilter();">
                <div class="col-xs-10"><h2><b>Buscar</b></h2></div>
                <div class="col-xs-2 g-text-right-xs">
                  <span class="glyphicon glyphicon-chevron-down" ng-if="isFilterVisible"></span>
                  <span class="glyphicon glyphicon-chevron-up" ng-if="!isFilterVisible"></span>
                </div>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="row" >
              <div class="col-md-4 mb-xs-2 no-mb-md">
                <mpf-input
                  label="{label:$ctrl.data.label, required: false}"
                  name="nName"
                  ng-model="$ctrl.data.mName"
                  mpf-validation="onlyLetter">
                </mpf-input>
                <ul class="g-error">
                  <li ng-show="frmMaintenance.nName.$invalid && !frmMaintenance.nName.$pristine">* Este campo es obligatorio</li>
                </ul>
              </div>
              <div class="col-md-offset-4 col-md-2 pt-md-2-7 mb-xs-1 no-mb-md" >
                <a
                  href="javascript:void(0)"
                  class="g-btn g-btn-verde second-design block"
                  ng-click="$ctrl.fnSearch(); toggleFilter()">
                  Buscar
                </a>
              </div>
              <div class="col-md-2 pt-md-2-7">
                <a
                  href="javascript:void(0)"
                  class="g-btn g-btn-white second-design block"
                  ng-click="$ctrl.fnClear(); toggleFilter()">
                  Limpiar
                </a>
              </div>
            </div>

          </div>
        </div>

      </div>
    </form>

    <div class="sec-list">
      <div class="container" ng-if="$ctrl.seguritySearch">

        <nsctr-no-result-filter
          type="search"
          no-result-info="$ctrl.data.noResultFilter.noResultInfo"
          no-result="$ctrl.data.noResultFilter.noResult">
        </nsctr-no-result-filter>

        <div
          class="clearfix g-box gBgcGray5 pt-xs-1 mb-xs-1 g-list-sm g-row-fz12"
          ng-repeat="item in $ctrl.data.dataList.list">
          <div class="col-sm-10 col-xs-9 g-col-xs middle">
            <ul class="row">
              <li class="col-sm-4 clearfix cnt-item">
                <div class="col-xs-12 item-label">
                  <b>{{item.name}}</b><br>
                  <span class="g-box-label gBgcGreen1">{{item.state}}</span>
                </div>
              </li>
              <li class="col-sm-4 clearfix cnt-item mt-xs-1">
                <div class="col-md-5 col-sm-5 col-ms-3 col-xs-5 item-label">
                  {{item.documentType}}:
                </div>
                <div class="col-xs-7 item-dato g-text-uppercase">
                  {{item.documentNumber}}
                </div>
              </li>
              <li class="col-sm-4 clearfix cnt-item mt-xs-1">
                <div class="col-md-5 col-sm-5 col-ms-3 col-xs-5 item-label">
                  CÃ³digo:
                </div>
                <div class="col-xs-7 item-dato g-text-uppercase">
                  {{item.id}}
                </div>
              </li>
            </ul>
          </div>
          <div class="col-sm-2 col-xs-3 g-col-xs middle clearfix">
            <div class="col-xs-12 cnt-item g-text-right-ms g-text-center-xs" ng-if="$ctrl.segurityUpdate">
              <a
                href="javascript:void(0)"
                ng-click="$ctrl.fnShowModalAddUpdate('U', item)">
                <span class="ico-mapfre_298_buscar gnIcon-md gCGray3"></span>
              </a>
            </div>
          </div>
        </div>

        <div
          class="row"
          ng-if="$ctrl.data.dataList.showPagination">
          <div class="col-md-8 col-md-offset-2">
            <ul
              uib-pagination
              class="g-pagination"
              ng-model="$ctrl.data.mPagination.currentPage"
              max-size="$ctrl.data.mPagination.maxSize"
              total-items="$ctrl.data.mPagination.totalItems"
              ng-change="$ctrl.fnChangePage()"
              boundary-link-numbers="true">
            </ul>
          </div>
        </div>

      </div>
    </div>

  </div>

</section>
