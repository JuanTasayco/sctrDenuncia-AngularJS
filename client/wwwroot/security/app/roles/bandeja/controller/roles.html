<section class="g-security-dashboard">

  <menu-security></menu-security>

  <div class="g-title">
    <div class="container">
      <div class="row">

        <div class="col-xs-12 mb-xs-2 no-mb-sm">
          <h1>Roles</h1>
        </div>

      </div>
    </div>
  </div>

  <!-- Inicio Dashboard Body -->
  <div class="g-section">
    <div class="container">
      <div class="row mb-xs-3">
        <div class="col-md-2">
          <a class="g-btn g-btn-gris second-design block" ng-click="showCreateRole()">+ Crear roles</a>
        </div>
        <div class="col-md-8 col-md-offset-2">
          <div class="row">
            <div class="col-md-3">
                <mp-data-seeker 
                  behavior="{label:''
                  , placeholder:'C贸digo o nombre de la aplicaci贸n'
                  , matchField:'descripcion'}" 
                  m-data-source="getRolesAppSearchAutocomplete($inputNeed)" 
                  ng-model="mBuscarApplication"
                  ng-change="selectAppAutocomplete(mBuscarApplication)"
                  is-horz="true">
                    <div ng-bind-html="$item.descripcion | highlight: $select.search"></div>
                </mp-data-seeker>
            </div>
            <div class="col-md-3">
              <mpf-input label="{label: '', required: false}" txt-placeholder="'C贸digo o nombre del rol'" name="nBuscarRol" ng-model="mBuscarRol"
                ng-required="false" is-horz="true" ng-maxlength="150"></mpf-input>
            </div>
            <div class="col-md-2">
              <a class="g-btn g-btn-verde second-design block" ng-click="getRolesSearch()">Buscar</a>
            </div>
            <div class="col-md-2">
              <a class="g-btn g-btn-white second-design block" ng-click="clearFieldsSearch()">Limpiar</a>
            </div>
            <div class="col-md-2">
              <span class="btn-download">
                <a class="g-btn g-btn-white second-design block h-pt--4 h-pb--5" ng-click="exportExcel()"><span class="ico-mapfre_124_download gnIcon-sm"></span></a>
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- Inicio: Listado de aplicaciones -->
      <div class="clearfix mb-xs-2">
        <div class="col-md-12 g-list-md g-box gBgcGray5 pt-xs-1 mb-xs-1" ng-repeat="item in roles">
          <div class="row g-row-fz12">
            <div class="col-md-3 g-col-md middle">
              <ul class="row gH5">
                <li class="col-md-12 clearfix cnt-item no-border-left">
                  <div class="col-md-3 col-sm-2 col-xs-4 item-label">C贸digo: </div>
                  <div class="col-md-9 col-sm-10 col-xs-8 item-dato g-text-uppercase g-cut-text">{{item.codRol}}</div>
                </li>
              </ul>
            </div>
            <div class="col-md-4 g-col-md middle">
              <ul class="row gH5">
                <li class="col-md-12 clearfix cnt-item add-border-left">
                  <div class="col-sm-3 col-xs-4 item-label">Nombre: </div>
                  <div class="col-sm-9 col-xs-8 item-dato g-text-uppercase g-cut-text">{{item.nomLargo}}</div>
                </li>
              </ul>
            </div>
            <div class="col-md-3 col-sm-12 g-col-sm middle cnt-item add-border-left g-text-leftr-xs g-text-left-md">
              <div class="pl-xs-1-5 pr-xs-1-5 no-pl-md no-pr-md">
                <mpf-checkbox-toggle ng-model="item.codEstado" label="" ng-true-value="ENABLE_STATE" ng-false-value="DISABLED_STATE" ng-change="changeStateRole(item, $event);"></mpf-checkbox-toggle>
                <span class="" ng-class="{'g-security-habilitado': item.codEstado === ENABLE_STATE, 'g-security-deshabilitado': item.codEstado === DISABLED_STATE}"></span>
              </div>
            </div>
            <div class="col-md-2 col-sm-12 g-col-sm middle cnt-item no-border-left clearfix">
              <div class="pl-xs-1-5 pr-xs-1-5 no-pl-md no-pr-md">
                <a href="" class="g-btn g-btn-white second-design block" ng-click="viewDetailRole(item)">Ver detalle</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Fin: Listado de aplicaciones -->

      <!-- Inicio: pagination -->
      <mx-paginador data-datos="roles" data-items-x-page="itemsXPagina" data-msg-vacio="msgVacio" data-on-paginar="getRolesPage($event)"
          data-pagina-actual="currentPage" data-total-items="totalItems">
      </mx-paginador>
      <!-- Fin: pagination -->
    </div>
  </div>
  <!--Fin Dashboard Body-->

</section>