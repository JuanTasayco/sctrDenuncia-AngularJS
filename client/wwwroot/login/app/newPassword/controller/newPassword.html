<div 
	class="clearfix" 
	ng-show="!data.isEmailSent">
	
	<div class="col-md-12 mb-xs-3 text-center login-header pl-xs-2 pr-xs-2 pl-sm-3 pr-sm-3 pl-md-5 pr-md-5">
		<h2 class="title red text-center">
			<span>Nueva contraseña</span>
		</h2>
		<p>Ingresa tu nueva contraseña dos veces</p>
		<div class="bg-lightPink">
			<span class="gH7">La contraseña debe contener 8 caracteres como mínimo y cumplir por lo menos con <span ng-show="data.patron">3</span><span ng-show="!data.patron">2</span> de las siguientes condiciones: mayúsculas, minúsculas, números o caracteres especiales. No puede usar su propio nombre ni parte de este.</span>
		</div>
	</div>


	<form 
		ng-submit="fnNewPassword()" 
		name="frmNewPassword" 
		class="cntNewPassword">
		
		<div class="col-md-10 col-md-offset-1 mb-xs-2">
			<mpf-password 
				label="{label: 'Nueva contraseña', required: true}" 
				name="nNuevaContrasena" 
				ng-model="data.mNuevaContrasena" 
				ng-required="true" 
				ng-maxlength= "data.maxLength"
				mpf-password-verify="data.mConfirmarNuevaContrasena"
				ng-pattern = "data.regex.patron">
			</mpf-password>
			<ul class="g-error">
				<li ng-show="frmNewPassword.nNuevaContrasena.$error.required && 
				!frmNewPassword.nNuevaContrasena.$pristine">* Este campo es obligatorio</li>
				<li ng-show="
				!frmNewPassword.nNuevaContrasena.$error.required && 
				data.mNuevaContrasena.length < data.minLength">* La contraseña debe tener por lo menos 8 caracteres.</li>
				<li ng-show="
				!frmNewPassword.nNuevaContrasena.$error.required && 
				frmNewPassword.nNuevaContrasena.$error.pattern">* Patrón de contraseña incorrecto</li>
				<li ng-if="isPassInvalid(data.mNuevaContrasena)">* No puede usar su propio nombre ni parte de este</li>
			</ul>
		</div>
		<div class="col-md-10 col-md-offset-1 mb-xs-2">
			<mpf-password 
				label="{label: 'Confirmar nueva contraseña', required: true}" 
				name="nConfirmarNuevaContrasena" 
				ng-model="data.mConfirmarNuevaContrasena" 
				ng-required="true"
				ng-maxlength="50" 
				mpf-password-verify="data.mNuevaContrasena"
				ng-pattern = "data.regex.patron">
			</mpf-password>
      <ul class="g-error">
      	<li ng-show="
      	frmNewPassword.nConfirmarNuevaContrasena.$error.required && !frmNewPassword.nConfirmarNuevaContrasena.$pristine">* Este campo es obligatorio</li>
				<li ng-show="
				!frmNewPassword.nConfirmarNuevaContrasena.$error.required && 
				data.mConfirmarNuevaContrasena < data.minLength">* La contraseña debe tener por lo menos 8 caracteres.</li>
				<li ng-show="
				!frmNewPassword.nConfirmarNuevaContrasena.$error.required && 
				frmNewPassword.nConfirmarNuevaContrasena.$error.pattern">* Patrón de contraseña incorrecto</li>
      			<li ng-show="frmNewPassword.$error.passwordVerify && !frmNewPassword.nConfirmarNuevaContrasena.$pristine">* No coincide la contraseña</li>
		  		<li ng-if="isPassInvalid(data.mConfirmarNuevaContrasena)">* No puede usar su propio nombre ni parte de este</li>
			</ul>
		</div>
		
		<div class="col-md-10 col-md-offset-1">
			<button 
				type="submit" 
				class="g-btn g-btn-verde block" 
				ng-disabled="!frmNewPassword.$valid">
				Registrar Contraseña
			</button>	
		</div>

	</form>	

</div>


<div 
	class="cntEmailSent col-md-12 text-center pt-sm-6" 
	ng-show="data.isEmailSent">
	<span class="icon ico-mapfre_184_circleCheck gCGreen7"></span>
	<p class="mt-xs-1 mb-xs-2 gH4">Nueva contraseña</p>
	<P>La contraseña ha sido modificada con éxito.</P>
</div>