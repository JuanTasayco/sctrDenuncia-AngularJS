<gcw-header data="{title: 'Detalle siniestro', type: 4}"></gcw-header>
<!-- Inicio Resultados -->
<div class="g-section">
  <div class="container">
    <h2 class="fwLight mb-xs-2"><span class="gH3 fwNormal ng-binding">Siniestro nro: {{siniestro}}</span></h2>
      <div class="row">
        <div class="col-md-12 mb-xs-1">
          <h2 class="gH4 gCGray1 g-border-bottom-xs"><b>Póliza</b></h2>
        </div>
      </div>
      <ul class="row g-list second-design">
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Contratante:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.contractorName}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Documento:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.contractorDocumentType}} - {{vm.siniestro.contractorDocumentNumber}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Póliza:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.policyNumber}}
          </div>
        </li>
      </ul>
      <ul class="row g-list second-design mb-xs-2">
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Producto:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.branchName}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Vigencia:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.effectiveStartDate}} - {{vm.siniestro.effectiveEndDate}}
          </div>
        </li>
      </ul>

      <div class="row">
        <div class="col-md-12 mb-xs-1">
          <h2 class="gH4 gCGray1 g-border-bottom-xs"><b>Riesgo/vehículo</b></h2>
        </div>
      </div>
      <ul class="row g-list second-design">
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Asegurado:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.insuredDocumentType}} {{vm.siniestro.insuredDocumentNumber}} - {{vm.siniestro.insuredName}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Marca / Modelo / Tipo:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.vehicleMake}} / {{vm.siniestro.vehicleModel}} / {{vm.siniestro.vehicleType}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Placa:

          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.vehiclePlate}}
          </div>
        </li>
      </ul>
      <ul class="row g-list second-design mb-xs-2">
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Uso:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.vehicleUse}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Suma Asegurada:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.value | currency:'$'}}
          </div>
        </li>
      </ul>

      <div class="row">
        <div class="col-md-12 mb-xs-1">
          <h2 class="gH4 gCGray1 g-border-bottom-xs"><b>Ocurrencia</b></h2>
        </div>
      </div>
      <ul class="row g-list second-design">
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Conductor :
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
              {{vm.siniestro.incurralName}} / {{vm.siniestro.incurralAge}} / {{vm.siniestro.incurralRelation}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Fecha - Hora Ocurrencia:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.incurralSinisterDate}} / {{vm.siniestro.incurralSinisterHour}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Lugar Ocurrecia:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.incurralPlace}}
          </div>
        </li>
      </ul>
      <ul class="row g-list second-design mb-xs-2">
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Fecha - Hora Denuncia:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.incurralNotificationDate}} / {{vm.siniestro.incurralNotificationHour}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Causa:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.incurralCause}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Consecuencia:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.incurralConsequence}}
          </div>
        </li>
      </ul>

      <!--Seccion nueva para visualizar los nuevos campos de responsabilidad, compañia e importe convenio-->
      <ul class="row g-list second-design mb-xs-2">
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Responsabilidad:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{!vm.siniestro.responsabilityName ? '-' : vm.siniestro.responsabilityName}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Compañia de seguro:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{!vm.siniestro.insuranceName ? '-' : vm.siniestro.insuranceName}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Importe convenio:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{!vm.siniestro.agreementAmount ? '0' : vm.siniestro.agreementAmount | number:2}}
          </div>
        </li>
      </ul>

      <div class="row">
        <div class="col-md-12 mb-xs-1">
          <h2 class="gH4 gCGray1 g-border-bottom-xs"><b>Situación del Siniestro</b></h2>
        </div>
      </div>
      <ul class="row g-list second-design mb-xs-2 gBgcGray5 g-col-filter">
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-6 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Deducible a Pagar sin IGV:
          </div>
          <div class="col-xs-6 item-dato g-text-uppercase" ng-show="vm.siniestro.proficientDeductible">
            $ {{vm.siniestro.proficientDeductible | number:2}}
          </div>
          <div class="col-xs-6 item-dato g-text-uppercase" ng-show="!vm.siniestro.proficientDeductible">
            $ 0.00
          </div>

        </li>
        <li class="col-md-8 clearfix cnt-item">
          <div class="col-xs-2 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Nota:
          </div>
          <div class="col-xs-10 item-dato">
            El deducible podría modificarse según ampliaciones requeridas por el taller y autorizadas por la CIA.
          </div>
        </li>
      </ul>
      <ul class="row g-list second-design">
        <li class="col-md-4 clearfix cnt-item" ng-show="vm.siniestro.incurralState != 'NO DEFINIDO'">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Estado Tramitación:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            <span class="g-text-uppercase ng-binding u-bg--yellow-2 g-box-label">{{vm.siniestro.incurralState}}</span>
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item" ng-show="vm.siniestro.incurralState == 'NO DEFINIDO'">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Estado Tramitación:
          </div>
          <div class="col-xs-7 item-dato">
            <a class="g-link first-design gCGreen1" ng-click="vm.verExpedientes(vm.siniestro)">Ver consulta de expediente</a>
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Fecha peritación:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.proficientPeritacionDate}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Taller/Tipo:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.proficientWorkshop}} / {{vm.siniestro.proficientWorkshopType}}
          </div>
        </li>
      </ul>
      <ul class="row g-list second-design">
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Fecha de Entrada:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.proficientEntryDate}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Fecha de PPTO:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.proficientBudgetDate}}
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Fecha estimada de Salida:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.proficientExitDate}}
          </div>
        </li>
      </ul>
      <ul class="row g-list second-design mb-xs-2">
        <li class="col-md-4 clearfix cnt-item" ng-show="vm.siniestro.isTotalLoss == 'S'">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Cheque:
          </div>
          <div class="col-xs-7 item-dato">
            <a class="g-link first-design gCGreen1" ng-click="vm.verCheques(vm.siniestro)">Consultar</a>
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item" ng-show="vm.siniestro.isPartialLoss == 'S' && vm.siniestro.isTotalLoss != 'S'">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Órdenes de trabajo:
          </div>
          <div class="col-xs-7 item-dato">
            <a class="g-link first-design gCGreen1" ng-click="vm.verOrdenTrabajo(vm.siniestro)">Consultar</a>
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item" >
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Doc Requeridos:
          </div>
          <div class="col-xs-7 item-dato">
            <a class="g-link first-design gCGreen1" ng-click="vm.verDocumento(vm.siniestro)">Ver documentos</a>
          </div>
        </li>
        <li class="col-md-4 clearfix cnt-item">
          <div class="col-xs-5 item-label">
            <span class="ico-mapfre_82_circle ico-bullet"></span>Tramitador:
          </div>
          <div class="col-xs-7 item-dato g-text-uppercase">
            {{vm.siniestro.tramitador.fullName}}
          </div>
        </li>
      </ul>

      <!--Tabla para visualizar el detalle de la carta y expediente-->  
      <div class="clearfix">
        <div tbl-oim class="col-xs-12 g-tbl-wrapper pl-xs-0">
          <div class="tbl-main">
            <ul class="tbl-header clearfix">
              <li class="title col-10-dktp">Carta</li>
              <li class="title col-15-dktp text-center">Descripción Carta</li>
              <li class="title col-10-dktp text-center">Tipo de Expediente</li>
              <li class="title col-10-dktp text-center">Nro. de Expediente</li>
              <li class="title col-10-dktp text-center">Estado de carta</li>
              <li class="title col-10-dktp text-center">Fecha de creación</li>
              <li class="title col-15-dktp text-center">Tipo de documento</li>
              <li class="title col-10-dktp text-center">Fecha de actualización</li>
              <li class="title col-10-dktp text-center">Estado</li>
            </ul>
            <ul class="tbl-body clearfix">
              <li data-ng-repeat="item in vm.siniestro.documentLetters">
                <ul height-row class="tbl-row clearfix">
                  <li class="cell col-10-dktp">
                    <span class="cell-title"><span class="cell-data">{{ item.numberLetter }}</span></span>
                  </li>
                  <li class="cell col-15-dktp text-center">
                    <span class="cell-label"><span class="cell-data">{{ item.typeLetter }}</span></span>
                  </li>
                  <li class="cell col-10-dktp text-center">
                    <span class="cell-label"><span class="cell-data">{{ item.typeFile }}</span></span>
                  </li>
                  <li class="cell col-10-dktp text-center">
                    <span class="cell-label"><span class="cell-data">{{ item.numberFile }}</span></span>
                  </li>
                  <li class="cell col-10-dktp text-center">
                    <span class="cell-label"><span class="cell-data">{{ item.stateLetter }}</span>
                  </li>
                  <li class="cell col-10-dktp text-center">
                    <span class="cell-label"><span class="cell-data">{{ item.dateCreation }}</span></span>
                  </li>
                  <li class="cell col-15-dktp text-center">
                    <span class="cell-label"><span class="cell-data">{{ item.typeDocument }}</span></span>
                  </li>
                  <li class="cell col-10-dktp text-center">
                    <span class="cell-label"><span class="cell-data">{{ item.dateModify }}</span></span>
                  </li>
                  <li class="cell col-10-dktp text-center">
                    <span class="cell-label"><span class="cell-data">{{ item.stateFile }}</span></span>
                  </li>
                </ul>
                </a>
              </li>
            </ul>

            <ul class="tbl-body clearfix" ng-if="vm.siniestro.documentLetters.length == 0"
              style="text-align: center; padding: 10px;">
              <span class="cell-label"><span class="cell-data">No hay resultados para la consulta
                  realizada.</span></span>
            </ul>

          </div>
        </div>
      </div>

      <div class="col-md-12 no-padding-xs">
        <div class="row">
          <div class="col-xs-12 col-md-4 mt-xs-1 col-md-offset-2">
            <a class="g-btn g-btn-transparent block" ng-click="downloadDetail()" target="_blank"
              ga-click
              ga-category="'CG - Siniestros'"
              ga-action="'MPF - Siniestros Autos - Botón Descargar'"
              ga-label="'Botón: Descargar'">descargar</a>
          </div>
          <div class="col-xs-12 col-md-4 mt-xs-1">
            <a class="g-btn g-btn-transparent block" ng-click="vm.solicitarInfo()"
              ga-click
              ga-category="'CG - Siniestros'"
              ga-action="'MPF - Siniestros Autos - Botón Email'"
              ga-label="'Botón: Email'">solicitar información</a>
          </div>
        </div>
      </div>

  </div>
</div>
