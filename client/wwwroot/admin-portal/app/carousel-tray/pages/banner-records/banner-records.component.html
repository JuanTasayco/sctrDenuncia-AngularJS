<div class="g-page page-ginfo-home">
  <div class="g-title">
    <div class="container">
      <div class="row g-row">
        <div class="col-md-8 g-col-md middle">
          <h1>Lista de Banners</h1>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-3 mt-xs-1 mb-xs-1">
        <a class="g-btn g-btn-blanco second-design block" data-ui-sref="carouselTray({ codeApp: $ctrl.codeApp })">Lista de Carruseles</a>
      </div>
      <div class="col-md-4 col-md-offset-5 mb-xs-2">
        <div class="search">
          <i class="ico-mapfre_298_buscar"></i>
          <input type="search" placeholder="Buscar" data-ng-model="$ctrl.searchModel" data-ng-keyup="$ctrl.validateString()">
          <i class="search--close ico-mapfre-384-navclose" data-ng-click="$ctrl.clearSearch()"></i>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-8 mb-xs-2 no-mb-sm">
        <div class="sub-menu">
          <h3>
            {{ $ctrl.total }} {{$ctrl.carouselLabel}}
          </h3>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 mb-xs-1">
        <div class="box-form box-form--filter">
          <div class="row">
            <div class="col-md-6 mb-xs-2">
              <mpf-select
                label="{label: 'Ordenar por:', required: false}"
                name="nOrdenamiento"
                ng-model="$ctrl.sort"
                text-field="Description"
                value-field="Code"
                m-data-source="$ctrl.sortSource"
                ng-change="$ctrl.changeSort()"
              ></mpf-select>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-3 mt-xs-1 mb-xs-1">
        <a class="g-btn g-btn-blanco second-design block" data-ui-sref="addBanner({ codeApp: $ctrl.codeApp, idCarousel: 0})">Crear nuevo Banner</a>
      </div>
      <div class="col-md-3 col-md-offset-6 mt-xs-2">
        <div class="list-nro">
          <ul>
            <li
              data-ng-class="{'active': iPerPage === $ctrl.itemsPerPage}"
              data-ng-click="$ctrl.filterByItemsPerPage(iPerPage)"
              data-ng-repeat="iPerPage in $ctrl.itemsPerPageList"
            >
              {{iPerPage}}
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row mt-xs-2">
      <div class="col-md-12 mb-xs-2" data-ng-repeat="item in $ctrl.list">
        <div class="box-info mb-xs-2" data-ng-class="{'disable': !item.activo}">
          <img class="box-info--img" data-ng-src="{{item.imgPreview}}" alt="">
          <div class="box-info--text">
            <div class="section-title">
              <h4 class="title">{{item.campania}}</h4>
            </div>
            <span class="nro-banner">Link: <a style="text-decoration: underline;" href="{{item.link}}" target="_blank">{{ item.link }}</a></span>
            <div class="fetch mt-xs-1 mb-xs-1">
              <div>
                <i class="ico-mapfre-365-myd-calendar"></i>
                <span>Inicio de publicación | <b>{{item.fechaInicio}}</b></span>
              </div>
              <div>
                <i class="ico-mapfre-365-myd-calendar"></i>
                <span>Fin de publicación | <b>{{item.fechaFin}}</b></span>
              </div>
            </div>
            <p class="dsc">{{item.descripcion}}</p>
            <div class="action">
              <div class="sec-notification">
                <i class="ico-mapfre-350-myd-user"></i>
                <span>Última modificación: <b>{{item.ultimaModificacion}}</b></span>
              </div>
              <div class="sec-btn">
                <a class="g-btn g-btn-verde second-design block" data-ui-sref="editBanner({ codeApp: $ctrl.codeApp, idCarousel: 0, idBanner: item.idBanner })">Modificar</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<mx-paginador
  class="ap-paginador"
  data-datos="$ctrl.list"
  data-items-x-page="$ctrl.itemsPerPage"
  data-on-paginar="$ctrl.paginate($event)"
  data-pagina-actual="$ctrl.currentPage"
  data-total-items="$ctrl.total"
>
</mx-paginador>
