<section class="g-page page-modal page-inspeccion-autos page-modal__nueva-inspeccion">
    <button type="button" class="close g-close-modal" ng-click="$ctrl.closeModal()">
      <span class="ico-mapfre_46_cancelaroff"></span>
    </button>
    <form name="frmNuevaInspeccionForm">
      <div class="container">
        <div class="row">
          <div class="col-md-12 g-text-center-xs mb-xs-2">
            <h2 class="gH3" id="modal-title"><b>{{ $ctrl.modalTitle }}</b></h2>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="col-md-12">
          <div class="modal-body" id="automas">
            <!-- <div class="row">
              <div class="col-md-12">
                <h2 class="g-summary-sub-title third-design c-red">Replicar Información</h2>
              </div>
            </div> -->
            <div class="row">
              <div class="col-md-12 mb-xs-2">
                <form action="" name="frmDocuments">
                  <div  class="clearfix gBgcGray5 pt-xs-1">
                    <div class="col-md-12 mb-xs-1">
                      <h2 class="cnt-title">Buscar</h2>
                    </div>
                    <div class="g-col-filter__box">
                      <div class="clearfix">
                        <div class="col-md-3 mb-xs-2">
                          <mpf-input label="{label: 'Contacto', required: false}" name="nContacto" ng-model="$ctrl.search.contactFullName"></mpf-input>
                        </div>
                        <div class="col-md-3 mb-xs-2">
                          <mpf-input label="{label: 'Marca', required: false}" name="nMarca" ng-model="$ctrl.search.vehicleBrand"></mpf-input>
                        </div>
                        <div class="col-md-3 mb-xs-2">
                          <mpf-input label="{label: 'Modelo', required: false}" name="nModelo" ng-model="$ctrl.search.vehicleModel"></mpf-input>
                        </div>
                        <div class="col-md-3 mb-xs-2">
                          <mpf-input label="{label: 'Placa', required: false}" name="nPlaca" ng-model="$ctrl.search.vehicleLicensePlate"></mpf-input>
                        </div>
                      </div>
                      <div class="clearfix">
                        <div class="col-md-3 pt-xs-1">
                          <a href ng-click="$ctrl.showOnlySelected()">
                            <span class="gCGreen1" ng-pluralize count="$ctrl.selected.length"
                            when="{'0': 'No hay seleccionados',
                            'one': '1 seleccionado',
                            'other': '{} seleccionados'}">
                          </span>
                        </a>
                      </div>
                      <div class="col-md-3 col-md-offset-3 col-xs-6 mb-xs-1 mt-xs-1">
                        <a href class="col-xs-12 g-btn g-btn-verde g-btn-mini" ng-click="$ctrl.filter()">Buscar</a>
                      </div>
                      <div class="col-md-3 col-xs-6 mt-xs-1">
                        <a href class="col-xs-12  g-btn g-btn-transparent g-btn-mini" ng-click="$ctrl.clearFilter()">Limpiar</a>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div class="clearfix mt-xs-2">
            <div tbl-oim class="col-xs-12 tbl-wrapper pl-xs-0">
              <div class="tbl-main" style="min-width: 1000px;">
                <ul class="tbl-header clearfix">
                  <li class="title col-5-dktp">
                    <mpf-checkbox name="nChkSolicitud" ng-model="$ctrl.isAllSelected" ng-click="$ctrl.selectAll($ctrl.associedFleet)" ng-if="$ctrl.associedFleet.length > 1"></mpf-checkbox>
                  </li>
                  <li class="title col-15-dktp">ESTADO</li>
                  <li class="title col-15-dktp">CONTACTO</li>
                  <li class="title col-15-dktp">AGENTE</li>
                  <li class="title col-25-dktp">MARCA / MODELO / PLACA / AÑO</li>
                  <li class="title col-15-dktp">USUARIO</li>
                  <li class="title col-10-dktp">SITUACIÓN</li>
                </ul>
                <ul class="tbl-body u-scroll-v--220 clearfix">
                  <!-- <pre class="previewer">{{ $ctrl.associedFleet | json }}</pre> -->
                  <li ng-repeat="item in $ctrl.associedFleet.slice((($ctrl.pagination.currentPage-1)*$ctrl.pagination.pageSize), (($ctrl.pagination.currentPage)*$ctrl.pagination.pageSize))">
                    <ul height-row class="tbl-row clearfix">
                      <li class="cell col-5-dktp">
                        <span class="cell-title">
                          <mpf-checkbox ng-if="item.riskId !== $ctrl.riskId" name="nChkSolicitud" ng-model="item.checked" ng-click="$ctrl.selectOne(item.riskId)"></mpf-checkbox>
                          <mpf-checkbox ng-if="item.riskId === $ctrl.riskId" name="nChkSolicitud" ng-model="$ctrl.trueValue" ng-disabled="true"></mpf-checkbox>
                        </span>
                      </li>
                      <li class="cell col-15-dktp">
                        <span class="g-box-label c-purple g-text-uppercase" ng-class="{'c-purple':item.riskStatusCode=='1', 'c-green2': item.riskStatusCode=='2', 'c-green5': item.riskStatusCode=='3' , 'c-green3': item.riskStatusCode=='4', 'c-blue': item.riskStatusCode=='5', 'c-gray': item.riskStatusCode=='6', 'c-green': item.riskStatusCode=='7','c-green4': item.riskStatusCode=='8', 'c-orange': item.riskStatusCode=='9'}">{{item.riskStatus}}</span>
                      </li>
                      <li class="cell col-15-dktp">
                        <span class="cell-label"><span class="cell-data">{{item.contactFullName}}</span></span>
                      </li>
                      <li class="cell col-15-dktp">
                        <span class="cell-label"><span class="cell-data">{{item.agent}}</span></span>
                      </li>
                      <li class="cell col-25-dktp">
                        <span class="cell-label"><span class="cell-data">{{item.vehicleBrand + '/' + item.vehicleModel + '/' + item.vehicleLicensePlate + '/' + item.vehicleYear}}</span></span>
                      </li>
                      <li class="cell col-15-dktp">
                        <span class="cell-label"><span class="cell-data">{{item.userOwnerCode}}</span></span>
                      </li>
                      <li class="cell col-10-dktp">
                        <span class="cell-label"><span class="cell-data">{{item.situacion}}</span></span>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <!-- <div>{{ $ctrl.selected }}</div> -->
          <div class="row" ng-if="$ctrl.pagination.totalItems > 10">
            <div class="col-md-12">
              <ul uib-pagination class="g-pagination" data-ng-model="$ctrl.pagination.currentPage" max-size="$ctrl.pagination.pageSize" total-items="$ctrl.pagination.totalItems" boundary-link-numbers="true"></ul>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4 col-md-offset-2 mt-md-2">
              <a class="g-btn g-btn-transparent add-ico block" ng-click="$ctrl.closeModal()">Cancelar&nbsp;</a>
            </div>
            <div class="col-md-4 mt-xs-1 mt-md-2">
              <a class="g-btn g-btn-verde add-ico block" ng-click="$ctrl.saveData()">{{ $ctrl.buttonText }}</a>
              <!-- <a class="g-btn g-btn-verde add-ico block" >Programar&nbsp;</a>                   -->
              <!-- <a class="g-btn g-btn-verde add-ico block" >Replicar&nbsp;</a> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
  </section>
